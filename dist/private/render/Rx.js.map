{"version":3,"sources":["private/render/Rx.js"],"names":[],"mappings":"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","file":"private/render/Rx.js","sourcesContent":["import { Node } from '../../ast'\nimport { isEmpty, type } from '../util'\nimport { SourceNode } from './source-map/source-node'\n\nexport default class Rx {\n\tconstructor(inFilePath) {\n\t\tthis.inFilePath = inFilePath\n\t\tthis.indentStr = ''\n\t}\n\n\trender(ast) {\n\t\tconst oldCur = this.cur\n\t\tconst content = [ ]\n\t\tthis.cur = content\n\t\tast.render(ast, this)\n\t\tthis.cur = oldCur\n\t\tif (ast.loc)\n\t\t\treturn new SourceNode(\n\t\t\t\tast.loc.start.line,\n\t\t\t\tast.loc.start.column,\n\t\t\t\tthis.inFilePath,\n\t\t\t\tcontent)\n\t\telse\n\t\t\treturn content\n\t}\n\n\te(ast) {\n\t\ttype(ast, Node)\n\t\tthis.cur.push(this.render(ast))\n\t}\n\n\to(str) {\n\t\ttype(str, String)\n\t\tthis.cur.push(str)\n\t}\n\n\tinterleave(asts, str) {\n\t\tif (!isEmpty(asts)) {\n\t\t\tconst maxI = asts.length - 1\n\t\t\tfor (let i = 0; i < maxI; i = i + 1) {\n\t\t\t\tthis.e(asts[i])\n\t\t\t\tthis.o(str)\n\t\t\t}\n\t\t\tthis.e(asts[maxI])\n\t\t}\n\t}\n\n\tparen(asts) {\n\t\tthis.o('(')\n\t\tthis.interleave(asts, ', ')\n\t\tthis.o(')')\n\t}\n\n\tblock(lines, lineSeparator) {\n\t\tif (isEmpty(lines))\n\t\t\tthis.o('{ }')\n\t\telse {\n\t\t\tlineSeparator = lineSeparator + '\\t'\n\t\t\tthis.o('{')\n\t\t\tthis.indent(() => {\n\t\t\t\tthis.o(this.nl)\n\t\t\t\tthis.interleave(lines, lineSeparator)\n\t\t\t})\n\t\t\tthis.o(this.nl)\n\t\t\tthis.o('}')\n\t\t}\n\t}\n\n\tindent(doIndented) {\n\t\tconst oldIndent = this.indentStr\n\t\tthis.indentStr = this.indentStr + '\\t'\n\t\tdoIndented()\n\t\tthis.indentStr = oldIndent\n\t}\n\n\tget nl() {\n\t\treturn `\\n${this.indentStr}`\n\t}\n\tget cnl() {\n\t\treturn `,\\n${this.indentStr}`\n\t}\n\tget snl() {\n\t\treturn `;\\n${this.indentStr}`\n\t}\n}\n"],"sourceRoot":"/src"}