{"version":3,"sources":["private/util.js"],"names":[],"mappings":"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","file":"private/util.js","sourcesContent":["export const\n\tassert = cond => {\n\t\tif (!cond)\n\t\t\tthrow new Error('Assertion failed.')\n\t},\n\n\timplementMany = (holder, methodName, nameToImpl) => {\n\t\tObject.keys(nameToImpl).forEach(name => {\n\t\t\tholder[name].prototype[methodName] = nameToImpl[name]\n\t\t})\n\t},\n\n\tisEmpty = arr => arr.length === 0,\n\tlast = arr => {\n\t\tassert(!isEmpty(arr))\n\t\treturn arr[arr.length - 1]\n\t},\n\n\tpAdd = (obj, newName, newVal) => {\n\t\tif (Object.prototype.hasOwnProperty.call(obj, newName))\n\t\t\tthrow new Error(`Already has property ${newName}, have ${Object.keys(obj)}`)\n\t\tconst _ = clone(obj)\n\t\t_[newName] = newVal\n\t\treturn _\n\t},\n\n\t// TODO: Support Sets and Unions\n\ttype = (instance, itsType) => {\n\t\tif (!(itsType.prototype.isPrototypeOf(Object(instance))))\n\t\t\tthrow new Error(`${instance} is not a ${itsType}.`)\n\t},\n\n\t// multi-line string literals like:\n\t// `\n\t//\ta\n\t//\t\tb\n\t//\tc`\n\t// have too much indentation.\n\t// This will change it to \"a\\n\\tb\\nc\" by detecting the first line's indentation.\n\tdedent = str => {\n\t\tif (str[0] !== '\\n')\n\t\t\treturn str\n\n\t\tstr = str.slice(1)\n\n\t\tlet indent\n\t\tfor (indent = 0; indent < str.length; indent = indent + 1)\n\t\t\tif (str[indent] !== '\\t')\n\t\t\t\tbreak\n\n\t\tconst dedentedLines = str.split('\\n').map(line => line.slice(indent))\n\t\treturn dedentedLines.join('\\n')\n\t},\n\n\t// TODO:ES6 Just use `new Set`\n\tnewSet = setMembers => {\n\t\tconst set = new Set()\n\t\tsetMembers.forEach(_ => set.add(_))\n\t\treturn set\n\t}\n\nconst clone = obj => {\n\tconst nu = Object.create(Object.getPrototypeOf(obj))\n\tObject.getOwnPropertyNames(obj).forEach(name => {\n\t\tnu[name] = obj[name]\n\t})\n\treturn nu\n}\n"],"sourceRoot":"/src"}