if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'source-map/lib/source-map-generator', './ast', './Loc', './util', './private/util'], function (exports, _sourceMapLibSourceMapGenerator, _ast, _Loc, _util, _privateUtil) {
	'use strict';

	Object.defineProperty(exports, '__esModule', {
		value: true
	});

	exports.default = (ast, /* Node */options) => {
		// TODO:ES6 Optional args
		if (options === undefined) options = {};
		init(options);
		e(ast);
		const res = strOut;
		uninit();
		return res;
	};

	const renderWithSourceMap = (ast, /* Node */inFilePath, /* String */outFilePath, /* String */options) => {
		// TODO:ES6 Optional args
		if (options === undefined) options = {};
		init(options, inFilePath, outFilePath);
		e(ast);
		const res = { code: strOut, sourceMap: sourceMap.toJSON() };
		uninit();
		return res;
	};

	exports.renderWithSourceMap = renderWithSourceMap;
	// Must init these all before rendering.
	let strOut, indentAmount, indentStr, usingSourceMaps, curAst, inFilePath, sourceMap, outLine, outColumn, lastMappedAst,
	// options
	ugly;

	const init = (options, inPath, outPath) => {
		ugly = Boolean(options.ugly);

		indentAmount = 0;
		_setIndent();
		strOut = '';
		usingSourceMaps = inPath !== undefined;
		if (usingSourceMaps) {
			inFilePath = inPath;
			sourceMap = new _sourceMapLibSourceMapGenerator.SourceMapGenerator({ file: outPath });
			outLine = _Loc.StartLine;
			outColumn = _Loc.StartColumn;
			lastMappedAst = null;
		}
	},
	      uninit = () => {
		strOut = '';
		inFilePath = sourceMap = curAst = lastMappedAst = undefined;
	};

	const
	// Renders a single expression.
	e = ast => {
		if (usingSourceMaps) curAst = ast;
		ast.render();
	},
	     

	// str may not contain newlines.
	o = str => {
		strOut = strOut + str;
		if (usingSourceMaps) _mapStr(str);
	},
	      interleave = (asts, str) => {
		if (!(0, _privateUtil.isEmpty)(asts)) {
			const maxI = asts.length - 1;
			for (let i = 0; i < maxI; i = i + 1) {
				e(asts[i]);
				o(str);
			}
			e(asts[maxI]);
		}
	},
	      paren = asts => {
		o('(');
		interleave(asts, ',');
		o(')');
	},
	      block = (blockLines, lineSeparator) => {
		if ((0, _privateUtil.isEmpty)(blockLines)) o('{}');else {
			o('{');
			indent();
			nl();
			lines(blockLines, lineSeparator);
			unindent();
			nl();
			o('}');
		}
	},
	      lines = (lines, lineSeparator) => {
		if (lines.length > 0) {
			const maxI = lines.length - 1;
			for (let i = 0; i < maxI; i = i + 1) {
				e(lines[i]);
				o(lineSeparator);
				nl();
			}
			e(lines[maxI]);
		}
	},
	      indentStrs = [''],
	      _setIndent = () => {
		indentStr = indentStrs[indentAmount];
		while (indentStr === undefined) {
			indentStrs.push((0, _privateUtil.last)(indentStrs) + '\t');
			indentStr = indentStrs[indentAmount];
		}
	},
	      indent = () => {
		if (!ugly) {
			indentAmount = indentAmount + 1;
			_setIndent();
		}
	},
	      unindent = () => {
		if (!ugly) {
			indentAmount = indentAmount - 1;
			_setIndent();
		}
	},
	      nl = () => {
		if (!ugly) {
			strOut = strOut + '\n' + indentStr;
			if (usingSourceMaps) _mapNewLine();
		}
	},
	     

	// Private

	_mapStr = str => {
		if (curAst !== lastMappedAst && curAst.loc !== undefined) {
			sourceMap.addMapping({
				source: inFilePath,
				original: curAst.loc.start,
				generated: new _Loc.Pos(outLine, outColumn)
			});
			lastMappedAst = curAst;
		}
		outColumn = outColumn + str.length;
	},
	      _mapNewLine = () => {
		outLine = outLine + 1;
		outColumn = _Loc.StartColumn + indentAmount;
		// Mappings end at end of line. Must begin anew.
		lastMappedAst = null;
	};

	function fun() {
		o(this.generator ? 'function*' : 'function');
		if (this.id !== null) {
			o(' ');
			e(this.id);
		}
		paren(this.params);
		e(this.body);
	}

	function arr() {
		if ((0, _privateUtil.isEmpty)(this.elements)) o('[]');else {
			o('[');
			interleave(this.elements, ',');
			o(']');
		}
	}

	function rClass() {
		o('class ');
		if (this.id !== null) e(this.id);
		if (this.superClass !== null) {
			o(' extends ');
			e(this.superClass);
		}
		e(this.body);
	}

	const forInOf = (_, kind) => {
		o('for(');
		e(_.left);
		o(kind);
		e(_.right);
		o(')');
		e(_.body);
	};

	(0, _privateUtil.implementMany)(_ast, 'render', {
		Program() {
			lines(this.body, ';');
		},

		Identifier() {
			o(this.name);
		},

		// Statements
		EmptyStatement() {},
		BlockStatement() {
			block(this.body, ';');
		},
		ExpressionStatement() {
			e(this.expression);
		},
		IfStatement() {
			o('if(');
			e(this.test);
			o(')');
			e(this.consequent);
			if (this.alternate !== null) {
				if (!(this.consequent instanceof _ast.BlockStatement)) o(';');
				o(' else ');
				e(this.alternate);
			}
		},
		LabeledStatement() {
			e(this.label);
			o(':');
			e(this.body);
		},
		BreakStatement() {
			o('break');
			if (this.label !== null) {
				o(' ');
				e(this.label);
			}
		},
		ContinueStatement() {
			o('continue');
			if (this.label !== null) {
				o(' ');
				e(this.label);
			}
		},
		SwitchCase() {
			if (this.test !== null) {
				o('case ');
				e(this.test);
			} else o('default');
			o(':');
			switch (this.consequent.length) {
				case 0:
					break;
				case 1:
					e(this.consequent[0]);
					break;
				default:
					indent();
					nl();
					lines(this.consequent, ';');
					unindent();
			}
		},
		SwitchStatement() {
			o('switch(');
			e(this.discriminant);
			o(')');
			block(this.cases, '');
		},
		ReturnStatement() {
			if (this.argument !== null) {
				o('return ');
				e(this.argument);
			} else o('return');
		},
		ThrowStatement() {
			o('throw ');
			e(this.argument);
		},
		CatchClause() {
			o('catch(');
			e(this.param);
			o(')');
			e(this.body);
		},
		TryStatement() {
			o('try ');
			e(this.block);
			if (this.handler !== null) e(this.handler);
			if (this.finalizer !== null) {
				o('finally');
				e(this.finalizer);
			}
		},
		WhileStatement() {
			o('while(');
			e(this.test);
			o(')');
			e(this.body);
		},
		DoWhileStatement() {
			o('do ');
			e(this.body);
			if (!(this.body instanceof _ast.BlockStatement)) o(';');
			o(' while(');
			e(this.test);
			o(')');
		},
		ForStatement() {
			o('for(');
			if (this.init !== null) e(this.init);
			o(';');
			if (this.test !== null) e(this.test);
			o(';');
			if (this.update !== null) e(this.update);
			o(')');
			e(this.body);
		},
		ForInStatement() {
			forInOf(this, ' in ');
		},
		ForOfStatement() {
			forInOf(this, ' of ');
		},
		DebuggerStatement() {
			o('debugger');
		},

		// Declarations
		FunctionDeclaration: fun,
		VariableDeclarator() {
			e(this.id);
			if (this.init !== null) {
				o('=');
				e(this.init);
			}
		},
		VariableDeclaration() {
			o(this.kind);
			o(' ');
			interleave(this.declarations, ',');
		},

		// Expressions
		ThisExpression() {
			o('this');
		},
		ArrayExpression: arr,
		ObjectExpression() {
			if ((0, _privateUtil.isEmpty)(this.properties)) o('{}');else block(this.properties, ',');
		},
		Property() {
			if (this.kind === 'init') {
				e(this.key);
				o(':');
				e(this.value);
			} else {
				(0, _privateUtil.assert)(this.kind === 'get' || this.kind === 'set');
				o(this.kind);
				o(' ');
				e(this.key);
				paren(this.value.params);
				(0, _privateUtil.assert)(this.value instanceof _ast.FunctionExpression);
				(0, _privateUtil.assert)(this.value.id === null && !this.value.generator);
				e(this.value.body);
			}
		},
		FunctionExpression: fun,
		ArrowFunctionExpression() {
			if (this.params.length === 1 && this.params[0] instanceof _ast.Identifier) e(this.params[0]);else paren(this.params);
			o('=>');
			e(this.body);
		},
		SequenceExpression() {
			interleave(this.expressions, ',');
		},
		UnaryExpression() {
			o(this.operator);
			o(' ');
			e(this.argument);
		},
		BinaryExpression() {
			o('(');
			e(this.left);
			o(this.operator === 'instanceof' ? ' instanceof ' : this.operator);
			e(this.right);
			o(')');
		},
		AssignmentExpression() {
			e(this.left);
			o(this.operator);
			e(this.right);
		},
		UpdateExpression() {
			if (this.prefix) {
				o(this.operator);
				e(this.argument);
			} else {
				e(this.argument);
				o(this.operator);
			}
		},
		LogicalExpression() {
			o('(');
			e(this.left);
			o(this.operator);
			e(this.right);
			o(')');
		},
		ConditionalExpression() {
			o('(');
			e(this.test);
			o('?');
			e(this.consequent);
			o(':');
			e(this.alternate);
			o(')');
		},
		NewExpression() {
			o('new (');
			e(this.callee);
			o(')');
			paren(this.arguments);
		},
		CallExpression() {
			if (this.callee instanceof _ast.ArrowFunctionExpression) {
				o('(');
				e(this.callee);
				o(')');
			} else e(this.callee);
			paren(this.arguments);
		},
		SpreadElement() {
			o('...');
			e(this.argument);
		},
		MemberExpression() {
			e(this.object);
			if (this.computed) {
				o('[');
				e(this.property);
				o(']');
			} else {
				if (this.object instanceof _ast.Literal && typeof this.object.value === 'number' && this.object.value === (this.object.value | 0)) o('..');else o('.');
				e(this.property);
			}
		},
		YieldExpression() {
			o(this.delegate ? '(yield* ' : '(yield ');
			e(this.argument);
			o(')');
		},
		Literal() {
			if (typeof this.value === 'string') {
				o('"');
				o((0, _util.escapeStringForLiteral)(this.value));
				o('"');
			} else o(this.value === null ? 'null' : this.value.toString());
		},

		// Templates
		TemplateElement() {
			o(this.value.raw);
		},
		TemplateLiteral() {
			o('`');
			e(this.quasis[0]);
			for (let i = 0; i < this.expressions.length; i = i + 1) {
				o('${');
				e(this.expressions[i]);
				o('}');
				e(this.quasis[i + 1]);
			}
			o('`');
		},
		TaggedTemplateExpression() {
			e(this.tag);
			e(this.quasi);
		},

		// Patterns
		AssignmentProperty() {
			e(this.key);
			if (this.key !== this.value) {
				o(':');
				e(this.value);
			}
		},
		ObjectPattern() {
			o('{');
			interleave(this.properties, ',');
			o('}');
		},
		ArrayPattern: arr,
		RestElement() {
			o('...');
			e(this.argument);
		},

		MethodDefinition() {
			if (this.static) o('static ');

			const fun = this.value;
			(0, _privateUtil.assert)(fun.id === null);
			const params = fun.params;
			const body = fun.body;

			const rKey = () => {
				if (this.computed) {
					o('[');
					e(this.key);
					o(']');
				} else e(this.key);
			};

			if (fun.generator) o('*');
			switch (this.kind) {
				case 'constructor':
					(0, _privateUtil.assert)(this.key instanceof _ast.Identifier && this.key.name === 'constructor');
					o('constructor');
					break;
				case 'method':
					rKey();
					break;
				case 'get':case 'set':
					o(this.kind);
					o(' ');
					rKey();
					break;
				default:
					throw new Error(this.kind);
			}

			paren(params);
			e(body);
		},

		ClassBody() {
			block(this.body, '');
		},

		ClassDeclaration: rClass,
		ClassExpression: rClass,

		ImportDeclaration() {
			o('import ');

			let def, namespace;
			let specifiers = [];
			for (const s of this.specifiers) {
				if (s instanceof _ast.ImportDefaultSpecifier) if (def === undefined) def = s;else throw new Error('Multiple default imports');else if (s instanceof _ast.ImportNamespaceSpecifier) if (namespace === undefined) namespace = s;else throw new Error('Multiple namespace imports');else {
					(0, _privateUtil.assert)(s instanceof _ast.ImportSpecifier);
					specifiers.push(s);
				}
			}

			let needComma = false;
			if (def !== undefined) {
				e(def);
				needComma = true;
			}
			if (namespace !== undefined) {
				if (needComma) o(',');
				e(namespace);
				needComma = true;
			}
			if (!(0, _privateUtil.isEmpty)(specifiers)) {
				if (needComma) o(',');
				o('{');
				interleave(specifiers, ',');
				o('}');
			}

			o(' from ');
			e(this.source);
		},
		ImportSpecifier() {
			if (this.imported === this.local) e(this.local);else {
				e(this.imported);
				o(' as ');
				e(this.local);
			}
		},
		ImportDefaultSpecifier() {
			e(this.local);
		},
		ImportNamespaceSpecifier() {
			o('* as ');
			e(this.local);
		},

		ExportSpecifier() {
			e(this.local);
			if (this.exported !== this.local) {
				o(' as ');
				e(this.exported);
			}
		},
		ExportNamedDeclaration() {
			o('export ');
			if (this.declaration !== null) {
				(0, _privateUtil.assert)((0, _privateUtil.isEmpty)(this.specifiers));
				(0, _privateUtil.assert)(this.source === null);
				e(this.declaration);
			} else {
				o('{');
				interleave(this.specifiers, ',');
				o('}');
				if (this.source !== null) {
					o(' from ');
					e(this.source);
				}
			}
		},
		ExportDefaultDeclaration() {
			o('export default ');
			e(this.declaration);
		},
		ExportAllDeclaration() {
			o('export * from ');
			e(this.source);
		}
	});
});
//# sourceMappingURL=data:application/json;base64,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QUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUNwQixJQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFBO0dBQ25CO0FBQ0Qsc0JBQW9CLEdBQUc7QUFDdEIsSUFBQyxDQUFDLGdCQUFnQixDQUFDLENBQUE7QUFDbkIsSUFBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtHQUNkO0VBQ0QsQ0FBQyxDQUFBIiwiZmlsZSI6InJlbmRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNvdXJjZU1hcEdlbmVyYXRvciB9IGZyb20gJ3NvdXJjZS1tYXAvbGliL3NvdXJjZS1tYXAtZ2VuZXJhdG9yJ1xuaW1wb3J0ICogYXMgQXN0IGZyb20gJy4vYXN0J1xuaW1wb3J0IHsgQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24sIEJsb2NrU3RhdGVtZW50LCBGdW5jdGlvbkV4cHJlc3Npb24sIElkZW50aWZpZXIsXG5cdEltcG9ydERlZmF1bHRTcGVjaWZpZXIsIEltcG9ydE5hbWVzcGFjZVNwZWNpZmllciwgSW1wb3J0U3BlY2lmaWVyLCBMaXRlcmFsIH0gZnJvbSAnLi9hc3QnXG5pbXBvcnQgeyBQb3MsIFN0YXJ0Q29sdW1uLCBTdGFydExpbmUgfSBmcm9tICcuL0xvYydcbmltcG9ydCB7IGVzY2FwZVN0cmluZ0ZvckxpdGVyYWwgfSBmcm9tICcuL3V0aWwnXG5pbXBvcnQgeyBhc3NlcnQsIGltcGxlbWVudE1hbnksIGlzRW1wdHksIGxhc3QgfSBmcm9tICcuL3ByaXZhdGUvdXRpbCdcblxuZXhwb3J0IGRlZmF1bHQgKGFzdCAvKiBOb2RlICovLCBvcHRpb25zKSA9PiB7XG5cdC8vIFRPRE86RVM2IE9wdGlvbmFsIGFyZ3Ncblx0aWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkgb3B0aW9ucyA9IHsgfVxuXHRpbml0KG9wdGlvbnMpXG5cdGUoYXN0KVxuXHRjb25zdCByZXMgPSBzdHJPdXRcblx0dW5pbml0KClcblx0cmV0dXJuIHJlc1xufVxuXG5leHBvcnQgY29uc3QgcmVuZGVyV2l0aFNvdXJjZU1hcCA9XG5cdChhc3QgLyogTm9kZSAqLywgaW5GaWxlUGF0aCAvKiBTdHJpbmcgKi8sIG91dEZpbGVQYXRoIC8qIFN0cmluZyAqLywgb3B0aW9ucykgPT4ge1xuXHQvLyBUT0RPOkVTNiBPcHRpb25hbCBhcmdzXG5cdGlmIChvcHRpb25zID09PSB1bmRlZmluZWQpIG9wdGlvbnMgPSB7IH1cblx0aW5pdChvcHRpb25zLCBpbkZpbGVQYXRoLCBvdXRGaWxlUGF0aClcblx0ZShhc3QpXG5cdGNvbnN0IHJlcyA9IHsgY29kZTogc3RyT3V0LCBzb3VyY2VNYXA6IHNvdXJjZU1hcC50b0pTT04oKSB9XG5cdHVuaW5pdCgpXG5cdHJldHVybiByZXNcbn1cblxuLy8gTXVzdCBpbml0IHRoZXNlIGFsbCBiZWZvcmUgcmVuZGVyaW5nLlxubGV0IHN0ck91dCxcblx0aW5kZW50QW1vdW50LCBpbmRlbnRTdHIsXG5cdHVzaW5nU291cmNlTWFwcywgY3VyQXN0LCBpbkZpbGVQYXRoLCBzb3VyY2VNYXAsIG91dExpbmUsIG91dENvbHVtbiwgbGFzdE1hcHBlZEFzdCxcblx0Ly8gb3B0aW9uc1xuXHR1Z2x5XG5cbmNvbnN0XG5cdGluaXQgPSAob3B0aW9ucywgaW5QYXRoLCBvdXRQYXRoKSA9PiB7XG5cdFx0dWdseSA9IEJvb2xlYW4ob3B0aW9ucy51Z2x5KVxuXG5cdFx0aW5kZW50QW1vdW50ID0gMFxuXHRcdF9zZXRJbmRlbnQoKVxuXHRcdHN0ck91dCA9ICcnXG5cdFx0dXNpbmdTb3VyY2VNYXBzID0gaW5QYXRoICE9PSB1bmRlZmluZWRcblx0XHRpZiAodXNpbmdTb3VyY2VNYXBzKSB7XG5cdFx0XHRpbkZpbGVQYXRoID0gaW5QYXRoXG5cdFx0XHRzb3VyY2VNYXAgPSBuZXcgU291cmNlTWFwR2VuZXJhdG9yKHsgZmlsZTogb3V0UGF0aCB9KVxuXHRcdFx0b3V0TGluZSA9IFN0YXJ0TGluZVxuXHRcdFx0b3V0Q29sdW1uID0gU3RhcnRDb2x1bW5cblx0XHRcdGxhc3RNYXBwZWRBc3QgPSBudWxsXG5cdFx0fVxuXHR9LFxuXG5cdHVuaW5pdCA9ICgpID0+IHtcblx0XHRzdHJPdXQgPSAnJ1xuXHRcdGluRmlsZVBhdGggPSBzb3VyY2VNYXAgPSBjdXJBc3QgPSBsYXN0TWFwcGVkQXN0ID0gdW5kZWZpbmVkXG5cdH1cblxuY29uc3Rcblx0Ly8gUmVuZGVycyBhIHNpbmdsZSBleHByZXNzaW9uLlxuXHRlID0gYXN0ID0+IHtcblx0XHRpZiAodXNpbmdTb3VyY2VNYXBzKVxuXHRcdFx0Y3VyQXN0ID0gYXN0XG5cdFx0YXN0LnJlbmRlcigpXG5cdH0sXG5cblx0Ly8gc3RyIG1heSBub3QgY29udGFpbiBuZXdsaW5lcy5cblx0byA9IHN0ciA9PiB7XG5cdFx0c3RyT3V0ID0gc3RyT3V0ICsgc3RyXG5cdFx0aWYgKHVzaW5nU291cmNlTWFwcylcblx0XHRcdF9tYXBTdHIoc3RyKVxuXHR9LFxuXG5cdGludGVybGVhdmUgPSAoYXN0cywgc3RyKSA9PiB7XG5cdFx0aWYgKCFpc0VtcHR5KGFzdHMpKSB7XG5cdFx0XHRjb25zdCBtYXhJID0gYXN0cy5sZW5ndGggLSAxXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1heEk7IGkgPSBpICsgMSkge1xuXHRcdFx0XHRlKGFzdHNbaV0pXG5cdFx0XHRcdG8oc3RyKVxuXHRcdFx0fVxuXHRcdFx0ZShhc3RzW21heEldKVxuXHRcdH1cblx0fSxcblxuXHRwYXJlbiA9IGFzdHMgPT4ge1xuXHRcdG8oJygnKVxuXHRcdGludGVybGVhdmUoYXN0cywgJywnKVxuXHRcdG8oJyknKVxuXHR9LFxuXG5cdGJsb2NrID0gKGJsb2NrTGluZXMsIGxpbmVTZXBhcmF0b3IpID0+IHtcblx0XHRpZiAoaXNFbXB0eShibG9ja0xpbmVzKSlcblx0XHRcdG8oJ3t9Jylcblx0XHRlbHNlIHtcblx0XHRcdG8oJ3snKVxuXHRcdFx0aW5kZW50KClcblx0XHRcdG5sKClcblx0XHRcdGxpbmVzKGJsb2NrTGluZXMsIGxpbmVTZXBhcmF0b3IpXG5cdFx0XHR1bmluZGVudCgpXG5cdFx0XHRubCgpXG5cdFx0XHRvKCd9Jylcblx0XHR9XG5cdH0sXG5cblx0bGluZXMgPSAobGluZXMsIGxpbmVTZXBhcmF0b3IpID0+IHtcblx0XHRpZiAobGluZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3QgbWF4SSA9IGxpbmVzLmxlbmd0aCAtIDFcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbWF4STsgaSA9IGkgKyAxKSB7XG5cdFx0XHRcdGUobGluZXNbaV0pXG5cdFx0XHRcdG8obGluZVNlcGFyYXRvcilcblx0XHRcdFx0bmwoKVxuXHRcdFx0fVxuXHRcdFx0ZShsaW5lc1ttYXhJXSlcblx0XHR9XG5cdH0sXG5cblx0aW5kZW50U3RycyA9IFsgJycgXSxcblx0X3NldEluZGVudCA9ICgpID0+IHtcblx0XHRpbmRlbnRTdHIgPSBpbmRlbnRTdHJzW2luZGVudEFtb3VudF1cblx0XHR3aGlsZSAoaW5kZW50U3RyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGluZGVudFN0cnMucHVzaChsYXN0KGluZGVudFN0cnMpICsgJ1xcdCcpXG5cdFx0XHRpbmRlbnRTdHIgPSBpbmRlbnRTdHJzW2luZGVudEFtb3VudF1cblx0XHR9XG5cdH0sXG5cdGluZGVudCA9ICgpID0+IHtcblx0XHRpZiAoIXVnbHkpIHtcblx0XHRcdGluZGVudEFtb3VudCA9IGluZGVudEFtb3VudCArIDFcblx0XHRcdF9zZXRJbmRlbnQoKVxuXHRcdH1cblx0fSxcblx0dW5pbmRlbnQgPSAoKSA9PiB7XG5cdFx0aWYgKCF1Z2x5KSB7XG5cdFx0XHRpbmRlbnRBbW91bnQgPSBpbmRlbnRBbW91bnQgLSAxXG5cdFx0XHRfc2V0SW5kZW50KClcblx0XHR9XG5cdH0sXG5cblx0bmwgPSAoKSA9PiB7XG5cdFx0aWYgKCF1Z2x5KSB7XG5cdFx0XHRzdHJPdXQgPSBzdHJPdXQgKyAnXFxuJyArIGluZGVudFN0clxuXHRcdFx0aWYgKHVzaW5nU291cmNlTWFwcylcblx0XHRcdFx0X21hcE5ld0xpbmUoKVxuXHRcdH1cblx0fSxcblxuXHQvLyBQcml2YXRlXG5cblx0X21hcFN0ciA9IHN0ciA9PiB7XG5cdFx0aWYgKGN1ckFzdCAhPT0gbGFzdE1hcHBlZEFzdCAmJiBjdXJBc3QubG9jICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHNvdXJjZU1hcC5hZGRNYXBwaW5nKHtcblx0XHRcdFx0c291cmNlOiBpbkZpbGVQYXRoLFxuXHRcdFx0XHRvcmlnaW5hbDogY3VyQXN0LmxvYy5zdGFydCxcblx0XHRcdFx0Z2VuZXJhdGVkOiBuZXcgUG9zKG91dExpbmUsIG91dENvbHVtbilcblx0XHRcdH0pXG5cdFx0XHRsYXN0TWFwcGVkQXN0ID0gY3VyQXN0XG5cdFx0fVxuXHRcdG91dENvbHVtbiA9IG91dENvbHVtbiArIHN0ci5sZW5ndGhcblx0fSxcblxuXHRfbWFwTmV3TGluZSA9ICgpID0+IHtcblx0XHRvdXRMaW5lID0gb3V0TGluZSArIDFcblx0XHRvdXRDb2x1bW4gPSBTdGFydENvbHVtbiArIGluZGVudEFtb3VudFxuXHRcdC8vIE1hcHBpbmdzIGVuZCBhdCBlbmQgb2YgbGluZS4gTXVzdCBiZWdpbiBhbmV3LlxuXHRcdGxhc3RNYXBwZWRBc3QgPSBudWxsXG5cdH1cblxuZnVuY3Rpb24gZnVuKCkge1xuXHRvKHRoaXMuZ2VuZXJhdG9yID8gJ2Z1bmN0aW9uKicgOiAnZnVuY3Rpb24nKVxuXHRpZiAodGhpcy5pZCAhPT0gbnVsbCkge1xuXHRcdG8oJyAnKVxuXHRcdGUodGhpcy5pZClcblx0fVxuXHRwYXJlbih0aGlzLnBhcmFtcylcblx0ZSh0aGlzLmJvZHkpXG59XG5cbmZ1bmN0aW9uIGFycigpIHtcblx0aWYgKGlzRW1wdHkodGhpcy5lbGVtZW50cykpXG5cdFx0bygnW10nKVxuXHRlbHNlIHtcblx0XHRvKCdbJylcblx0XHRpbnRlcmxlYXZlKHRoaXMuZWxlbWVudHMsICcsJylcblx0XHRvKCddJylcblx0fVxufVxuXG5mdW5jdGlvbiByQ2xhc3MoKSB7XG5cdG8oJ2NsYXNzICcpXG5cdGlmICh0aGlzLmlkICE9PSBudWxsKVxuXHRcdGUodGhpcy5pZClcblx0aWYgKHRoaXMuc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuXHRcdG8oJyBleHRlbmRzICcpXG5cdFx0ZSh0aGlzLnN1cGVyQ2xhc3MpXG5cdH1cblx0ZSh0aGlzLmJvZHkpXG59XG5cbmNvbnN0XG5cdGZvckluT2YgPSAoXywga2luZCkgPT4ge1xuXHRcdG8oJ2ZvcignKVxuXHRcdGUoXy5sZWZ0KVxuXHRcdG8oa2luZClcblx0XHRlKF8ucmlnaHQpXG5cdFx0bygnKScpXG5cdFx0ZShfLmJvZHkpXG5cdH1cblxuaW1wbGVtZW50TWFueShBc3QsICdyZW5kZXInLCB7XG5cdFByb2dyYW0oKSB7XG5cdFx0bGluZXModGhpcy5ib2R5LCAnOycpXG5cdH0sXG5cblx0SWRlbnRpZmllcigpIHtcblx0XHRvKHRoaXMubmFtZSlcblx0fSxcblxuXHQvLyBTdGF0ZW1lbnRzXG5cdEVtcHR5U3RhdGVtZW50KCkgeyB9LFxuXHRCbG9ja1N0YXRlbWVudCgpIHtcblx0XHRibG9jayh0aGlzLmJvZHksICc7Jylcblx0fSxcblx0RXhwcmVzc2lvblN0YXRlbWVudCgpIHtcblx0XHRlKHRoaXMuZXhwcmVzc2lvbilcblx0fSxcblx0SWZTdGF0ZW1lbnQoKSB7XG5cdFx0bygnaWYoJylcblx0XHRlKHRoaXMudGVzdClcblx0XHRvKCcpJylcblx0XHRlKHRoaXMuY29uc2VxdWVudClcblx0XHRpZiAodGhpcy5hbHRlcm5hdGUgIT09IG51bGwpIHtcblx0XHRcdGlmICghKHRoaXMuY29uc2VxdWVudCBpbnN0YW5jZW9mIEJsb2NrU3RhdGVtZW50KSlcblx0XHRcdFx0bygnOycpXG5cdFx0XHRvKCcgZWxzZSAnKVxuXHRcdFx0ZSh0aGlzLmFsdGVybmF0ZSlcblx0XHR9XG5cdH0sXG5cdExhYmVsZWRTdGF0ZW1lbnQoKSB7XG5cdFx0ZSh0aGlzLmxhYmVsKVxuXHRcdG8oJzonKVxuXHRcdGUodGhpcy5ib2R5KVxuXHR9LFxuXHRCcmVha1N0YXRlbWVudCgpIHtcblx0XHRvKCdicmVhaycpXG5cdFx0aWYgKHRoaXMubGFiZWwgIT09IG51bGwpIHtcblx0XHRcdG8oJyAnKVxuXHRcdFx0ZSh0aGlzLmxhYmVsKVxuXHRcdH1cblx0fSxcblx0Q29udGludWVTdGF0ZW1lbnQoKSB7XG5cdFx0bygnY29udGludWUnKVxuXHRcdGlmICh0aGlzLmxhYmVsICE9PSBudWxsKSB7XG5cdFx0XHRvKCcgJylcblx0XHRcdGUodGhpcy5sYWJlbClcblx0XHR9XG5cdH0sXG5cdFN3aXRjaENhc2UoKSB7XG5cdFx0aWYgKHRoaXMudGVzdCAhPT0gbnVsbCkge1xuXHRcdFx0bygnY2FzZSAnKVxuXHRcdFx0ZSh0aGlzLnRlc3QpXG5cdFx0fSBlbHNlXG5cdFx0XHRvKCdkZWZhdWx0Jylcblx0XHRvKCc6Jylcblx0XHRzd2l0Y2ggKHRoaXMuY29uc2VxdWVudC5sZW5ndGgpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0YnJlYWtcblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0ZSh0aGlzLmNvbnNlcXVlbnRbMF0pXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRpbmRlbnQoKVxuXHRcdFx0XHRubCgpXG5cdFx0XHRcdGxpbmVzKHRoaXMuY29uc2VxdWVudCwgJzsnKVxuXHRcdFx0XHR1bmluZGVudCgpXG5cdFx0fVxuXHR9LFxuXHRTd2l0Y2hTdGF0ZW1lbnQoKSB7XG5cdFx0bygnc3dpdGNoKCcpXG5cdFx0ZSh0aGlzLmRpc2NyaW1pbmFudClcblx0XHRvKCcpJylcblx0XHRibG9jayh0aGlzLmNhc2VzLCAnJylcblx0fSxcblx0UmV0dXJuU3RhdGVtZW50KCkge1xuXHRcdGlmICh0aGlzLmFyZ3VtZW50ICE9PSBudWxsKSB7XG5cdFx0XHRvKCdyZXR1cm4gJylcblx0XHRcdGUodGhpcy5hcmd1bWVudClcblx0XHR9IGVsc2Vcblx0XHRcdG8oJ3JldHVybicpXG5cdH0sXG5cdFRocm93U3RhdGVtZW50KCkge1xuXHRcdG8oJ3Rocm93ICcpXG5cdFx0ZSh0aGlzLmFyZ3VtZW50KVxuXHR9LFxuXHRDYXRjaENsYXVzZSgpIHtcblx0XHRvKCdjYXRjaCgnKVxuXHRcdGUodGhpcy5wYXJhbSlcblx0XHRvKCcpJylcblx0XHRlKHRoaXMuYm9keSlcblx0fSxcblx0VHJ5U3RhdGVtZW50KCkge1xuXHRcdG8oJ3RyeSAnKVxuXHRcdGUodGhpcy5ibG9jaylcblx0XHRpZiAodGhpcy5oYW5kbGVyICE9PSBudWxsKVxuXHRcdFx0ZSh0aGlzLmhhbmRsZXIpXG5cdFx0aWYgKHRoaXMuZmluYWxpemVyICE9PSBudWxsKSB7XG5cdFx0XHRvKCdmaW5hbGx5Jylcblx0XHRcdGUodGhpcy5maW5hbGl6ZXIpXG5cdFx0fVxuXHR9LFxuXHRXaGlsZVN0YXRlbWVudCgpIHtcblx0XHRvKCd3aGlsZSgnKVxuXHRcdGUodGhpcy50ZXN0KVxuXHRcdG8oJyknKVxuXHRcdGUodGhpcy5ib2R5KVxuXHR9LFxuXHREb1doaWxlU3RhdGVtZW50KCkge1xuXHRcdG8oJ2RvICcpXG5cdFx0ZSh0aGlzLmJvZHkpXG5cdFx0aWYgKCEodGhpcy5ib2R5IGluc3RhbmNlb2YgQmxvY2tTdGF0ZW1lbnQpKVxuXHRcdFx0bygnOycpXG5cdFx0bygnIHdoaWxlKCcpXG5cdFx0ZSh0aGlzLnRlc3QpXG5cdFx0bygnKScpXG5cdH0sXG5cdEZvclN0YXRlbWVudCgpIHtcblx0XHRvKCdmb3IoJylcblx0XHRpZiAodGhpcy5pbml0ICE9PSBudWxsKVxuXHRcdFx0ZSh0aGlzLmluaXQpXG5cdFx0bygnOycpXG5cdFx0aWYgKHRoaXMudGVzdCAhPT0gbnVsbClcblx0XHRcdGUodGhpcy50ZXN0KVxuXHRcdG8oJzsnKVxuXHRcdGlmICh0aGlzLnVwZGF0ZSAhPT0gbnVsbClcblx0XHRcdGUodGhpcy51cGRhdGUpXG5cdFx0bygnKScpXG5cdFx0ZSh0aGlzLmJvZHkpXG5cdH0sXG5cdEZvckluU3RhdGVtZW50KCkgeyBmb3JJbk9mKHRoaXMsICcgaW4gJykgfSxcblx0Rm9yT2ZTdGF0ZW1lbnQoKSB7IGZvckluT2YodGhpcywgJyBvZiAnKSB9LFxuXHREZWJ1Z2dlclN0YXRlbWVudCgpIHtcblx0XHRvKCdkZWJ1Z2dlcicpXG5cdH0sXG5cblx0Ly8gRGVjbGFyYXRpb25zXG5cdEZ1bmN0aW9uRGVjbGFyYXRpb246IGZ1bixcblx0VmFyaWFibGVEZWNsYXJhdG9yKCkge1xuXHRcdGUodGhpcy5pZClcblx0XHRpZiAodGhpcy5pbml0ICE9PSBudWxsKSB7XG5cdFx0XHRvKCc9Jylcblx0XHRcdGUodGhpcy5pbml0KVxuXHRcdH1cblx0fSxcblx0VmFyaWFibGVEZWNsYXJhdGlvbigpIHtcblx0XHRvKHRoaXMua2luZClcblx0XHRvKCcgJylcblx0XHRpbnRlcmxlYXZlKHRoaXMuZGVjbGFyYXRpb25zLCAnLCcpXG5cdH0sXG5cblx0Ly8gRXhwcmVzc2lvbnNcblx0VGhpc0V4cHJlc3Npb24oKSB7XG5cdFx0bygndGhpcycpXG5cdH0sXG5cdEFycmF5RXhwcmVzc2lvbjogYXJyLFxuXHRPYmplY3RFeHByZXNzaW9uKCkge1xuXHRcdGlmIChpc0VtcHR5KHRoaXMucHJvcGVydGllcykpXG5cdFx0XHRvKCd7fScpXG5cdFx0ZWxzZVxuXHRcdFx0YmxvY2sodGhpcy5wcm9wZXJ0aWVzLCAnLCcpXG5cdH0sXG5cdFByb3BlcnR5KCkge1xuXHRcdGlmICh0aGlzLmtpbmQgPT09ICdpbml0Jykge1xuXHRcdFx0ZSh0aGlzLmtleSlcblx0XHRcdG8oJzonKVxuXHRcdFx0ZSh0aGlzLnZhbHVlKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRhc3NlcnQodGhpcy5raW5kID09PSAnZ2V0JyB8fCB0aGlzLmtpbmQgPT09ICdzZXQnKVxuXHRcdFx0byh0aGlzLmtpbmQpXG5cdFx0XHRvKCcgJylcblx0XHRcdGUodGhpcy5rZXkpXG5cdFx0XHRwYXJlbih0aGlzLnZhbHVlLnBhcmFtcylcblx0XHRcdGFzc2VydCh0aGlzLnZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb25FeHByZXNzaW9uKVxuXHRcdFx0YXNzZXJ0KHRoaXMudmFsdWUuaWQgPT09IG51bGwgJiYgIXRoaXMudmFsdWUuZ2VuZXJhdG9yKVxuXHRcdFx0ZSh0aGlzLnZhbHVlLmJvZHkpXG5cdFx0fVxuXHR9LFxuXHRGdW5jdGlvbkV4cHJlc3Npb246IGZ1bixcblx0QXJyb3dGdW5jdGlvbkV4cHJlc3Npb24oKSB7XG5cdFx0aWYgKHRoaXMucGFyYW1zLmxlbmd0aCA9PT0gMSAmJiB0aGlzLnBhcmFtc1swXSBpbnN0YW5jZW9mIElkZW50aWZpZXIpXG5cdFx0XHRlKHRoaXMucGFyYW1zWzBdKVxuXHRcdGVsc2Vcblx0XHRcdHBhcmVuKHRoaXMucGFyYW1zKVxuXHRcdG8oJz0+Jylcblx0XHRlKHRoaXMuYm9keSlcblx0fSxcblx0U2VxdWVuY2VFeHByZXNzaW9uKCkge1xuXHRcdGludGVybGVhdmUodGhpcy5leHByZXNzaW9ucywgJywnKVxuXHR9LFxuXHRVbmFyeUV4cHJlc3Npb24oKSB7XG5cdFx0byh0aGlzLm9wZXJhdG9yKVxuXHRcdG8oJyAnKVxuXHRcdGUodGhpcy5hcmd1bWVudClcblx0fSxcblx0QmluYXJ5RXhwcmVzc2lvbigpIHtcblx0XHRvKCcoJylcblx0XHRlKHRoaXMubGVmdClcblx0XHRvKHRoaXMub3BlcmF0b3IgPT09ICdpbnN0YW5jZW9mJyA/ICcgaW5zdGFuY2VvZiAnIDogdGhpcy5vcGVyYXRvcilcblx0XHRlKHRoaXMucmlnaHQpXG5cdFx0bygnKScpXG5cdH0sXG5cdEFzc2lnbm1lbnRFeHByZXNzaW9uKCkge1xuXHRcdGUodGhpcy5sZWZ0KVxuXHRcdG8odGhpcy5vcGVyYXRvcilcblx0XHRlKHRoaXMucmlnaHQpXG5cdH0sXG5cdFVwZGF0ZUV4cHJlc3Npb24oKSB7XG5cdFx0aWYgKHRoaXMucHJlZml4KSB7XG5cdFx0XHRvKHRoaXMub3BlcmF0b3IpXG5cdFx0XHRlKHRoaXMuYXJndW1lbnQpXG5cdFx0fSBlbHNlIHtcblx0XHRcdGUodGhpcy5hcmd1bWVudClcblx0XHRcdG8odGhpcy5vcGVyYXRvcilcblx0XHR9XG5cdH0sXG5cdExvZ2ljYWxFeHByZXNzaW9uKCkge1xuXHRcdG8oJygnKVxuXHRcdGUodGhpcy5sZWZ0KVxuXHRcdG8odGhpcy5vcGVyYXRvcilcblx0XHRlKHRoaXMucmlnaHQpXG5cdFx0bygnKScpXG5cdH0sXG5cdENvbmRpdGlvbmFsRXhwcmVzc2lvbigpIHtcblx0XHRvKCcoJylcblx0XHRlKHRoaXMudGVzdClcblx0XHRvKCc/Jylcblx0XHRlKHRoaXMuY29uc2VxdWVudClcblx0XHRvKCc6Jylcblx0XHRlKHRoaXMuYWx0ZXJuYXRlKVxuXHRcdG8oJyknKVxuXHR9LFxuXHROZXdFeHByZXNzaW9uKCkge1xuXHRcdG8oJ25ldyAoJylcblx0XHRlKHRoaXMuY2FsbGVlKVxuXHRcdG8oJyknKVxuXHRcdHBhcmVuKHRoaXMuYXJndW1lbnRzKVxuXHR9LFxuXHRDYWxsRXhwcmVzc2lvbigpIHtcblx0XHRpZiAodGhpcy5jYWxsZWUgaW5zdGFuY2VvZiBBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbikge1xuXHRcdFx0bygnKCcpXG5cdFx0XHRlKHRoaXMuY2FsbGVlKVxuXHRcdFx0bygnKScpXG5cdFx0fSBlbHNlXG5cdFx0XHRlKHRoaXMuY2FsbGVlKVxuXHRcdHBhcmVuKHRoaXMuYXJndW1lbnRzKVxuXHR9LFxuXHRTcHJlYWRFbGVtZW50KCkge1xuXHRcdG8oJy4uLicpXG5cdFx0ZSh0aGlzLmFyZ3VtZW50KVxuXHR9LFxuXHRNZW1iZXJFeHByZXNzaW9uKCkge1xuXHRcdGUodGhpcy5vYmplY3QpXG5cdFx0aWYgKHRoaXMuY29tcHV0ZWQpIHtcblx0XHRcdG8oJ1snKVxuXHRcdFx0ZSh0aGlzLnByb3BlcnR5KVxuXHRcdFx0bygnXScpXG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0aGlzLm9iamVjdCBpbnN0YW5jZW9mIExpdGVyYWwgJiZcblx0XHRcdFx0dHlwZW9mIHRoaXMub2JqZWN0LnZhbHVlID09PSAnbnVtYmVyJyAmJlxuXHRcdFx0XHR0aGlzLm9iamVjdC52YWx1ZSA9PT0gKHRoaXMub2JqZWN0LnZhbHVlIHwgMCkpXG5cdFx0XHRcdG8oJy4uJylcblx0XHRcdGVsc2Vcblx0XHRcdFx0bygnLicpXG5cdFx0XHRlKHRoaXMucHJvcGVydHkpXG5cdFx0fVxuXHR9LFxuXHRZaWVsZEV4cHJlc3Npb24oKSB7XG5cdFx0byh0aGlzLmRlbGVnYXRlID8gJyh5aWVsZCogJyA6ICcoeWllbGQgJylcblx0XHRlKHRoaXMuYXJndW1lbnQpXG5cdFx0bygnKScpXG5cdH0sXG5cdExpdGVyYWwoKSB7XG5cdFx0aWYgKHR5cGVvZiB0aGlzLnZhbHVlID09PSAnc3RyaW5nJykge1xuXHRcdFx0bygnXCInKVxuXHRcdFx0byhlc2NhcGVTdHJpbmdGb3JMaXRlcmFsKHRoaXMudmFsdWUpKVxuXHRcdFx0bygnXCInKVxuXHRcdH1cblx0XHRlbHNlXG5cdFx0XHRvKHRoaXMudmFsdWUgPT09IG51bGwgPyAnbnVsbCcgOiB0aGlzLnZhbHVlLnRvU3RyaW5nKCkpXG5cdH0sXG5cblx0Ly8gVGVtcGxhdGVzXG5cdFRlbXBsYXRlRWxlbWVudCgpIHtcblx0XHRvKHRoaXMudmFsdWUucmF3KVxuXHR9LFxuXHRUZW1wbGF0ZUxpdGVyYWwoKSB7XG5cdFx0bygnYCcpXG5cdFx0ZSh0aGlzLnF1YXNpc1swXSlcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXhwcmVzc2lvbnMubGVuZ3RoOyBpID0gaSArIDEpXHQge1xuXHRcdFx0bygnJHsnKVxuXHRcdFx0ZSh0aGlzLmV4cHJlc3Npb25zW2ldKVxuXHRcdFx0bygnfScpXG5cdFx0XHRlKHRoaXMucXVhc2lzW2kgKyAxXSlcblx0XHR9XG5cdFx0bygnYCcpXG5cdH0sXG5cdFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbigpIHtcblx0XHRlKHRoaXMudGFnKVxuXHRcdGUodGhpcy5xdWFzaSlcblx0fSxcblxuXHQvLyBQYXR0ZXJuc1xuXHRBc3NpZ25tZW50UHJvcGVydHkoKSB7XG5cdFx0ZSh0aGlzLmtleSlcblx0XHRpZiAodGhpcy5rZXkgIT09IHRoaXMudmFsdWUpIHtcblx0XHRcdG8oJzonKVxuXHRcdFx0ZSh0aGlzLnZhbHVlKVxuXHRcdH1cblx0fSxcblx0T2JqZWN0UGF0dGVybigpIHtcblx0XHRvKCd7Jylcblx0XHRpbnRlcmxlYXZlKHRoaXMucHJvcGVydGllcywgJywnKVxuXHRcdG8oJ30nKVxuXHR9LFxuXHRBcnJheVBhdHRlcm46IGFycixcblx0UmVzdEVsZW1lbnQoKSB7XG5cdFx0bygnLi4uJylcblx0XHRlKHRoaXMuYXJndW1lbnQpXG5cdH0sXG5cblx0TWV0aG9kRGVmaW5pdGlvbigpIHtcblx0XHRpZiAodGhpcy5zdGF0aWMpXG5cdFx0XHRvKCdzdGF0aWMgJylcblxuXHRcdGNvbnN0IGZ1biA9IHRoaXMudmFsdWVcblx0XHRhc3NlcnQoZnVuLmlkID09PSBudWxsKVxuXHRcdGNvbnN0IHBhcmFtcyA9IGZ1bi5wYXJhbXNcblx0XHRjb25zdCBib2R5ID0gZnVuLmJvZHlcblxuXHRcdGNvbnN0IHJLZXkgPSAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5jb21wdXRlZCkge1xuXHRcdFx0XHRvKCdbJylcblx0XHRcdFx0ZSh0aGlzLmtleSlcblx0XHRcdFx0bygnXScpXG5cdFx0XHR9IGVsc2Vcblx0XHRcdFx0ZSh0aGlzLmtleSlcblx0XHR9XG5cblx0XHRpZiAoZnVuLmdlbmVyYXRvcilcblx0XHRcdG8oJyonKVxuXHRcdHN3aXRjaCAodGhpcy5raW5kKSB7XG5cdFx0XHRjYXNlICdjb25zdHJ1Y3Rvcic6XG5cdFx0XHRcdGFzc2VydCh0aGlzLmtleSBpbnN0YW5jZW9mIElkZW50aWZpZXIgJiYgdGhpcy5rZXkubmFtZSA9PT0gJ2NvbnN0cnVjdG9yJylcblx0XHRcdFx0bygnY29uc3RydWN0b3InKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0Y2FzZSAnbWV0aG9kJzpcblx0XHRcdFx0cktleSgpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRjYXNlICdnZXQnOiBjYXNlICdzZXQnOlxuXHRcdFx0XHRvKHRoaXMua2luZClcblx0XHRcdFx0bygnICcpXG5cdFx0XHRcdHJLZXkoKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKHRoaXMua2luZClcblx0XHR9XG5cblx0XHRwYXJlbihwYXJhbXMpXG5cdFx0ZShib2R5KVxuXHR9LFxuXG5cdENsYXNzQm9keSgpIHtcblx0XHRibG9jayh0aGlzLmJvZHksICcnKVxuXHR9LFxuXG5cdENsYXNzRGVjbGFyYXRpb246IHJDbGFzcyxcblx0Q2xhc3NFeHByZXNzaW9uOiByQ2xhc3MsXG5cblx0SW1wb3J0RGVjbGFyYXRpb24oKSB7XG5cdFx0bygnaW1wb3J0ICcpXG5cblx0XHRsZXQgZGVmLCBuYW1lc3BhY2Vcblx0XHRsZXQgc3BlY2lmaWVycyA9IFtdXG5cdFx0Zm9yIChjb25zdCBzIG9mIHRoaXMuc3BlY2lmaWVycykge1xuXHRcdFx0aWYgKHMgaW5zdGFuY2VvZiBJbXBvcnREZWZhdWx0U3BlY2lmaWVyKVxuXHRcdFx0XHRpZiAoZGVmID09PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0ZGVmID0gc1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNdWx0aXBsZSBkZWZhdWx0IGltcG9ydHMnKVxuXHRcdFx0ZWxzZSBpZiAocyBpbnN0YW5jZW9mIEltcG9ydE5hbWVzcGFjZVNwZWNpZmllcilcblx0XHRcdFx0aWYgKG5hbWVzcGFjZSA9PT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdG5hbWVzcGFjZSA9IHNcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignTXVsdGlwbGUgbmFtZXNwYWNlIGltcG9ydHMnKVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGFzc2VydChzIGluc3RhbmNlb2YgSW1wb3J0U3BlY2lmaWVyKVxuXHRcdFx0XHRzcGVjaWZpZXJzLnB1c2gocylcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgbmVlZENvbW1hID0gZmFsc2Vcblx0XHRpZiAoZGVmICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGUoZGVmKVxuXHRcdFx0bmVlZENvbW1hID0gdHJ1ZVxuXHRcdH1cblx0XHRpZiAobmFtZXNwYWNlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChuZWVkQ29tbWEpXG5cdFx0XHRcdG8oJywnKVxuXHRcdFx0ZShuYW1lc3BhY2UpXG5cdFx0XHRuZWVkQ29tbWEgPSB0cnVlXG5cdFx0fVxuXHRcdGlmICghaXNFbXB0eShzcGVjaWZpZXJzKSkge1xuXHRcdFx0aWYgKG5lZWRDb21tYSlcblx0XHRcdFx0bygnLCcpXG5cdFx0XHRvKCd7Jylcblx0XHRcdGludGVybGVhdmUoc3BlY2lmaWVycywgJywnKVxuXHRcdFx0bygnfScpXG5cdFx0fVxuXG5cdFx0bygnIGZyb20gJylcblx0XHRlKHRoaXMuc291cmNlKVxuXHR9LFxuXHRJbXBvcnRTcGVjaWZpZXIoKSB7XG5cdFx0aWYgKHRoaXMuaW1wb3J0ZWQgPT09IHRoaXMubG9jYWwpXG5cdFx0XHRlKHRoaXMubG9jYWwpXG5cdFx0ZWxzZSB7XG5cdFx0XHRlKHRoaXMuaW1wb3J0ZWQpXG5cdFx0XHRvKCcgYXMgJylcblx0XHRcdGUodGhpcy5sb2NhbClcblx0XHR9XG5cdH0sXG5cdEltcG9ydERlZmF1bHRTcGVjaWZpZXIoKSB7XG5cdFx0ZSh0aGlzLmxvY2FsKVxuXHR9LFxuXHRJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXIoKSB7XG5cdFx0bygnKiBhcyAnKVxuXHRcdGUodGhpcy5sb2NhbClcblx0fSxcblxuXHRFeHBvcnRTcGVjaWZpZXIoKSB7XG5cdFx0ZSh0aGlzLmxvY2FsKVxuXHRcdGlmICh0aGlzLmV4cG9ydGVkICE9PSB0aGlzLmxvY2FsKSB7XG5cdFx0XHRvKCcgYXMgJylcblx0XHRcdGUodGhpcy5leHBvcnRlZClcblx0XHR9XG5cdH0sXG5cdEV4cG9ydE5hbWVkRGVjbGFyYXRpb24oKSB7XG5cdFx0bygnZXhwb3J0ICcpXG5cdFx0aWYgKHRoaXMuZGVjbGFyYXRpb24gIT09IG51bGwpIHtcblx0XHRcdGFzc2VydChpc0VtcHR5KHRoaXMuc3BlY2lmaWVycykpXG5cdFx0XHRhc3NlcnQodGhpcy5zb3VyY2UgPT09IG51bGwpXG5cdFx0XHRlKHRoaXMuZGVjbGFyYXRpb24pXG5cdFx0fSBlbHNlIHtcblx0XHRcdG8oJ3snKVxuXHRcdFx0aW50ZXJsZWF2ZSh0aGlzLnNwZWNpZmllcnMsICcsJylcblx0XHRcdG8oJ30nKVxuXHRcdFx0aWYgKHRoaXMuc291cmNlICE9PSBudWxsKSB7XG5cdFx0XHRcdG8oJyBmcm9tICcpXG5cdFx0XHRcdGUodGhpcy5zb3VyY2UpXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24oKSB7XG5cdFx0bygnZXhwb3J0IGRlZmF1bHQgJylcblx0XHRlKHRoaXMuZGVjbGFyYXRpb24pXG5cdH0sXG5cdEV4cG9ydEFsbERlY2xhcmF0aW9uKCkge1xuXHRcdG8oJ2V4cG9ydCAqIGZyb20gJylcblx0XHRlKHRoaXMuc291cmNlKVxuXHR9XG59KVxuIl0sInNvdXJjZVJvb3QiOiIvc3JjIn0=