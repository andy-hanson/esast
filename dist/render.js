(function (global, factory) {
	if (typeof define === 'function' && define.amd) {
		define(['exports', 'source-map/dist/source-map.min', './ast', './Loc'], factory);
	} else if (typeof exports !== 'undefined') {
		factory(exports, require('source-map/dist/source-map.min'), require('./ast'), require('./Loc'));
	} else {
		var mod = {
			exports: {}
		};
		factory(mod.exports, global.sourceMap, global.Ast, global.Loc);
		global.render = mod.exports;
	}
})(this, function (exports, _sourceMapDistSourceMapMin, _ast, _Loc) {
	'use strict';

	Object.defineProperty(exports, '__esModule', {
		value: true
	});
	exports.default = render;
	exports.renderWithSourceMap = renderWithSourceMap;

	/**
 Creates JavaScript source code from a {@link Node}.
 @param {Node} ast
 @param {object} options
 @param {boolean} options.ugly
 	If true, will not output any whitespace.
 */

	function render(ast, /* Node */options) {
		// TODO:ES6 Optional args
		if (options === undefined) options = {};

		setUp(options);
		e(ast);
		const res = strOut;
		tearDown();
		return res;
	}

	/**
 Same as {@link render}, but with a source map as part of the output.
 @param {Node} ast
 @param {string} inFilePath Name of input file.
 @param {string} outFilePath Name of output file.
 @param {object} options Same options as for {@link render}.
 @return {code: string, sourceMap: string}
 */

	function renderWithSourceMap(ast, inFilePath, outFilePath, options) {
		// TODO:ES6 Optional args
		if (options === undefined) options = {};

		setUp(options, inFilePath, outFilePath);
		e(ast);
		const res = { code: strOut, sourceMap: sourceMap.toJSON() };
		tearDown();
		return res;
	}

	// Must init these all before rendering.
	let strOut, indentAmount, indentStr, usingSourceMaps, curAst, inFilePath, sourceMap, outLine, outColumn, lastMappedAst,
	// options
	ugly;

	const setUp = (options, inPath, outPath) => {
		ugly = Boolean(options.ugly);

		indentAmount = 0;
		_setIndent();
		strOut = '';
		usingSourceMaps = inPath !== undefined;
		if (usingSourceMaps) {
			inFilePath = inPath;
			sourceMap = new _sourceMapDistSourceMapMin.SourceMapGenerator({ file: outPath });
			outLine = _Loc.StartLine;
			outColumn = _Loc.StartColumn;
			lastMappedAst = null;
		}
	},
	      tearDown = () => {
		strOut = '';
		inFilePath = sourceMap = curAst = lastMappedAst = undefined;
	};

	const
	// Renders a single expression.
	e = ast => {
		if (usingSourceMaps) curAst = ast;
		ast.render();
	},
	     

	// Outputs a string.
	// str may not contain newlines.
	o = str => {
		strOut = strOut + str;
		if (usingSourceMaps) _mapStr(str);
	},
	      interleave = (asts, str) => {
		if (!isEmpty(asts)) {
			const maxI = asts.length - 1;
			for (let i = 0; i < maxI; i = i + 1) {
				e(asts[i]);
				o(str);
			}
			e(asts[maxI]);
		}
	},
	      paren = asts => {
		o('(');
		interleave(asts, ',');
		o(')');
	},
	      block = (blockLines, lineSeparator) => {
		if (isEmpty(blockLines)) o('{}');else {
			o('{');
			indent();
			nl();
			lines(blockLines, lineSeparator);
			unindent();
			nl();
			o('}');
		}
	},
	      lines = (lines, lineSeparator) => {
		if (lines.length > 0) {
			const maxI = lines.length - 1;
			for (let i = 0; i < maxI; i = i + 1) {
				e(lines[i]);
				o(lineSeparator);
				nl();
			}
			e(lines[maxI]);
		}
	},
	      indentStrs = [''],
	      _setIndent = () => {
		indentStr = indentStrs[indentAmount];
		while (indentStr === undefined) {
			indentStrs.push(last(indentStrs) + '\t');
			indentStr = indentStrs[indentAmount];
		}
	},
	      indent = () => {
		if (!ugly) {
			indentAmount = indentAmount + 1;
			_setIndent();
		}
	},
	      unindent = () => {
		if (!ugly) {
			indentAmount = indentAmount - 1;
			_setIndent();
		}
	},
	      nl = () => {
		if (!ugly) {
			strOut = strOut + '\n' + indentStr;
			if (usingSourceMaps) _mapNewLine();
		}
	},
	     

	// Private

	_mapStr = str => {
		if (curAst !== lastMappedAst && curAst.loc !== undefined) {
			sourceMap.addMapping({
				source: inFilePath,
				original: curAst.loc.start,
				generated: new _Loc.Pos(outLine, outColumn)
			});
			lastMappedAst = curAst;
		}
		outColumn = outColumn + str.length;
	},
	      _mapNewLine = () => {
		outLine = outLine + 1;
		outColumn = _Loc.StartColumn + indentAmount;
		// Mappings end at end of line. Must begin anew.
		lastMappedAst = null;
	};

	function fun() {
		o(this.generator ? 'function*' : 'function');
		if (this.id !== null) {
			o(' ');
			e(this.id);
		}
		paren(this.params);
		e(this.body);
	}

	function arr() {
		if (isEmpty(this.elements)) o('[]');else {
			o('[');
			interleave(this.elements, ',');
			o(']');
		}
	}

	function rClass() {
		o('class ');
		if (this.id !== null) e(this.id);
		if (this.superClass !== null) {
			o(' extends ');
			e(this.superClass);
		}
		e(this.body);
	}

	const forInOf = (_, kind) => {
		o('for(');
		e(_.left);
		o(kind);
		e(_.right);
		o(')');
		e(_.body);
	};

	const implementMany = (holder, methodName, nameToImpl) => {
		Object.keys(nameToImpl).forEach(name => {
			holder[name].prototype[methodName] = nameToImpl[name];
		});
	},
	      isEmpty = arr => arr.length === 0,
	      last = arr => arr[arr.length - 1];

	implementMany(_ast, 'render', {
		Program() {
			lines(this.body, ';');
		},

		Identifier() {
			o(this.name);
		},

		// Statements
		EmptyStatement() {},
		BlockStatement() {
			block(this.body, ';');
		},
		ExpressionStatement() {
			e(this.expression);
		},
		IfStatement() {
			o('if(');
			e(this.test);
			o(')');
			e(this.consequent);
			if (this.alternate !== null) {
				if (!(this.consequent instanceof _ast.BlockStatement)) o(';');
				o(' else ');
				e(this.alternate);
			}
		},
		LabeledStatement() {
			e(this.label);
			o(':');
			e(this.body);
		},
		BreakStatement() {
			o('break');
			if (this.label !== null) {
				o(' ');
				e(this.label);
			}
		},
		ContinueStatement() {
			o('continue');
			if (this.label !== null) {
				o(' ');
				e(this.label);
			}
		},
		SwitchCase() {
			if (this.test !== null) {
				o('case ');
				e(this.test);
			} else o('default');
			o(':');
			switch (this.consequent.length) {
				case 0:
					break;
				case 1:
					e(this.consequent[0]);
					break;
				default:
					indent();
					nl();
					lines(this.consequent, ';');
					unindent();
			}
		},
		SwitchStatement() {
			o('switch(');
			e(this.discriminant);
			o(')');
			block(this.cases, '');
		},
		ReturnStatement() {
			if (this.argument !== null) {
				o('return ');
				e(this.argument);
			} else o('return');
		},
		ThrowStatement() {
			o('throw ');
			e(this.argument);
		},
		CatchClause() {
			o('catch(');
			e(this.param);
			o(')');
			e(this.body);
		},
		TryStatement() {
			o('try ');
			e(this.block);
			if (this.handler !== null) e(this.handler);
			if (this.finalizer !== null) {
				o('finally');
				e(this.finalizer);
			}
		},
		WhileStatement() {
			o('while(');
			e(this.test);
			o(')');
			e(this.body);
		},
		DoWhileStatement() {
			o('do ');
			e(this.body);
			if (!(this.body instanceof _ast.BlockStatement)) o(';');
			o(' while(');
			e(this.test);
			o(')');
		},
		ForStatement() {
			o('for(');
			if (this.init !== null) e(this.init);
			o(';');
			if (this.test !== null) e(this.test);
			o(';');
			if (this.update !== null) e(this.update);
			o(')');
			e(this.body);
		},
		ForInStatement() {
			forInOf(this, ' in ');
		},
		ForOfStatement() {
			forInOf(this, ' of ');
		},
		DebuggerStatement() {
			o('debugger');
		},

		// Declarations
		FunctionDeclaration: fun,
		VariableDeclarator() {
			e(this.id);
			if (this.init !== null) {
				o('=');
				e(this.init);
			}
		},
		VariableDeclaration() {
			o(this.kind);
			o(' ');
			interleave(this.declarations, ',');
		},

		// Expressions
		ThisExpression() {
			o('this');
		},
		ArrayExpression: arr,
		ObjectExpression() {
			if (isEmpty(this.properties)) o('{}');else block(this.properties, ',');
		},
		Property() {
			if (this.kind === 'init') {
				e(this.key);
				o(':');
				e(this.value);
			} else {
				o(this.kind);
				o(' ');
				e(this.key);
				paren(this.value.params);
				e(this.value.body);
			}
		},
		FunctionExpression: fun,
		ArrowFunctionExpression() {
			if (this.params.length === 1 && this.params[0] instanceof _ast.Identifier) e(this.params[0]);else paren(this.params);
			o('=>');
			e(this.body);
		},
		SequenceExpression() {
			interleave(this.expressions, ',');
		},
		UnaryExpression() {
			o(this.operator);
			o(' ');
			e(this.argument);
		},
		BinaryExpression() {
			o('(');
			e(this.left);
			o(this.operator === 'instanceof' ? ' instanceof ' : this.operator);
			e(this.right);
			o(')');
		},
		AssignmentExpression() {
			e(this.left);
			o(this.operator);
			e(this.right);
		},
		UpdateExpression() {
			if (this.prefix) {
				o(this.operator);
				e(this.argument);
			} else {
				e(this.argument);
				o(this.operator);
			}
		},
		LogicalExpression() {
			o('(');
			e(this.left);
			o(this.operator);
			e(this.right);
			o(')');
		},
		ConditionalExpression() {
			o('(');
			e(this.test);
			o('?');
			e(this.consequent);
			o(':');
			e(this.alternate);
			o(')');
		},
		NewExpression() {
			o('new (');
			e(this.callee);
			o(')');
			paren(this.arguments);
		},
		CallExpression() {
			if (this.callee instanceof _ast.ArrowFunctionExpression) {
				o('(');
				e(this.callee);
				o(')');
			} else e(this.callee);
			paren(this.arguments);
		},
		SpreadElement() {
			o('...');
			e(this.argument);
		},
		MemberExpression() {
			e(this.object);
			if (this.computed) {
				o('[');
				e(this.property);
				o(']');
			} else {
				if (this.object instanceof _ast.Literal && typeof this.object.value === 'number' && this.object.value === (this.object.value | 0)) o('..');else o('.');
				e(this.property);
			}
		},
		YieldExpression() {
			if (this.argument === null) o('(yield)');else {
				o(this.delegate ? '(yield* ' : '(yield ');
				if (this.argument !== null) e(this.argument);
				o(')');
			}
		},
		Literal() {
			if (typeof this.value === 'string') {
				o('"');
				o(escapeStringForLiteral(this.value));
				o('"');
			} else o(this.value === null ? 'null' : this.value.toString());
		},

		// Templates
		TemplateElement() {
			o(this.value.raw);
		},
		TemplateLiteral() {
			o('`');
			e(this.quasis[0]);
			for (let i = 0; i < this.expressions.length; i = i + 1) {
				o('${');
				e(this.expressions[i]);
				o('}');
				e(this.quasis[i + 1]);
			}
			o('`');
		},
		TaggedTemplateExpression() {
			e(this.tag);
			e(this.quasi);
		},

		// Patterns
		AssignmentProperty() {
			e(this.key);
			if (this.key !== this.value) {
				o(':');
				e(this.value);
			}
		},
		ObjectPattern() {
			o('{');
			interleave(this.properties, ',');
			o('}');
		},
		ArrayPattern: arr,
		RestElement() {
			o('...');
			e(this.argument);
		},

		MethodDefinition() {
			if (this.static) o('static ');

			const fun = this.value;
			const params = fun.params;
			const body = fun.body;

			const rKey = () => {
				if (this.computed) {
					o('[');
					e(this.key);
					o(']');
				} else e(this.key);
			};

			if (fun.generator) o('*');
			switch (this.kind) {
				case 'constructor':
					o('constructor');
					break;
				case 'method':
					rKey();
					break;
				case 'get':case 'set':
					o(this.kind);
					o(' ');
					rKey();
					break;
				default:
					throw new Error(this.kind);
			}

			paren(params);
			e(body);
		},

		ClassBody() {
			block(this.body, '');
		},

		ClassDeclaration: rClass,
		ClassExpression: rClass,

		ImportDeclaration() {
			o('import ');

			let def, namespace;
			let specifiers = [];
			for (const s of this.specifiers) {
				if (s instanceof _ast.ImportDefaultSpecifier) if (def === undefined) def = s;else throw new Error('Multiple default imports');else if (s instanceof _ast.ImportNamespaceSpecifier) if (namespace === undefined) namespace = s;else throw new Error('Multiple namespace imports');else
					// ImportSpecifier
					specifiers.push(s);
			}

			let needComma = false;
			if (def !== undefined) {
				e(def);
				needComma = true;
			}
			if (namespace !== undefined) {
				if (needComma) o(',');
				e(namespace);
				needComma = true;
			}
			if (!isEmpty(specifiers)) {
				if (needComma) o(',');
				o('{');
				interleave(specifiers, ',');
				o('}');
			}

			o(' from ');
			e(this.source);
		},
		ImportSpecifier() {
			if (this.imported === this.local) e(this.local);else {
				e(this.imported);
				o(' as ');
				e(this.local);
			}
		},
		ImportDefaultSpecifier() {
			e(this.local);
		},
		ImportNamespaceSpecifier() {
			o('* as ');
			e(this.local);
		},

		ExportSpecifier() {
			e(this.local);
			if (this.exported !== this.local) {
				o(' as ');
				e(this.exported);
			}
		},
		ExportNamedDeclaration() {
			o('export ');
			if (this.declaration !== null) e(this.declaration);else {
				o('{');
				interleave(this.specifiers, ',');
				o('}');
				if (this.source !== null) {
					o(' from ');
					e(this.source);
				}
			}
		},
		ExportDefaultDeclaration() {
			o('export default ');
			e(this.declaration);
		},
		ExportAllDeclaration() {
			o('export * from ');
			e(this.source);
		}
	});

	const escapeStringForLiteral = str => str.replace(/[\\"\n\t\b\f\v\r\u2028\u2029]/g, ch => literalEscapes[ch]),
	      literalEscapes = {
		'\\': '\\\\',
		'"': '\\"',
		'\n': '\\n',
		'\t': '\\t',
		'\b': '\\b',
		'\f': '\\f',
		'\v': '\\v',
		'\r': '\\r',
		'\u2028': '\\u2028',
		'\u2029': '\\u2029'
	};
});
//# sourceMappingURL=data:application/json;base64,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QUFnQyxFQUFFLEVBQUUsSUFBSSxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7T0FDeEUsY0FBYyxHQUFHO0FBQ2hCLE1BQUksRUFBRSxNQUFNO0FBQ1osS0FBRyxFQUFFLEtBQUs7QUFDVixNQUFJLEVBQUUsS0FBSztBQUNYLE1BQUksRUFBRSxLQUFLO0FBQ1gsTUFBSSxFQUFFLEtBQUs7QUFDWCxNQUFJLEVBQUUsS0FBSztBQUNYLE1BQUksRUFBRSxLQUFLO0FBQ1gsTUFBSSxFQUFFLEtBQUs7QUFDWCxVQUFRLEVBQUUsU0FBUztBQUNuQixVQUFRLEVBQUUsU0FBUztFQUNuQixDQUFBIiwiZmlsZSI6InJlbmRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U291cmNlTWFwR2VuZXJhdG9yfSBmcm9tICdzb3VyY2UtbWFwL2Rpc3Qvc291cmNlLW1hcC5taW4nXG5pbXBvcnQgKiBhcyBBc3QgZnJvbSAnLi9hc3QnXG5pbXBvcnQge0Fycm93RnVuY3Rpb25FeHByZXNzaW9uLCBCbG9ja1N0YXRlbWVudCwgSWRlbnRpZmllciwgSW1wb3J0RGVmYXVsdFNwZWNpZmllcixcblx0SW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyLCBMaXRlcmFsfSBmcm9tICcuL2FzdCdcbmltcG9ydCB7UG9zLCBTdGFydENvbHVtbiwgU3RhcnRMaW5lfSBmcm9tICcuL0xvYydcblxuLyoqXG5DcmVhdGVzIEphdmFTY3JpcHQgc291cmNlIGNvZGUgZnJvbSBhIHtAbGluayBOb2RlfS5cbkBwYXJhbSB7Tm9kZX0gYXN0XG5AcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnVnbHlcblx0SWYgdHJ1ZSwgd2lsbCBub3Qgb3V0cHV0IGFueSB3aGl0ZXNwYWNlLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbmRlcihhc3QgLyogTm9kZSAqLywgb3B0aW9ucykge1xuXHQvLyBUT0RPOkVTNiBPcHRpb25hbCBhcmdzXG5cdGlmIChvcHRpb25zID09PSB1bmRlZmluZWQpXG5cdFx0b3B0aW9ucyA9IHt9XG5cblx0c2V0VXAob3B0aW9ucylcblx0ZShhc3QpXG5cdGNvbnN0IHJlcyA9IHN0ck91dFxuXHR0ZWFyRG93bigpXG5cdHJldHVybiByZXNcbn1cblxuLyoqXG5TYW1lIGFzIHtAbGluayByZW5kZXJ9LCBidXQgd2l0aCBhIHNvdXJjZSBtYXAgYXMgcGFydCBvZiB0aGUgb3V0cHV0LlxuQHBhcmFtIHtOb2RlfSBhc3RcbkBwYXJhbSB7c3RyaW5nfSBpbkZpbGVQYXRoIE5hbWUgb2YgaW5wdXQgZmlsZS5cbkBwYXJhbSB7c3RyaW5nfSBvdXRGaWxlUGF0aCBOYW1lIG9mIG91dHB1dCBmaWxlLlxuQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgU2FtZSBvcHRpb25zIGFzIGZvciB7QGxpbmsgcmVuZGVyfS5cbkByZXR1cm4ge2NvZGU6IHN0cmluZywgc291cmNlTWFwOiBzdHJpbmd9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcldpdGhTb3VyY2VNYXAoYXN0LCBpbkZpbGVQYXRoLCBvdXRGaWxlUGF0aCwgb3B0aW9ucykge1xuXHQvLyBUT0RPOkVTNiBPcHRpb25hbCBhcmdzXG5cdGlmIChvcHRpb25zID09PSB1bmRlZmluZWQpXG5cdFx0b3B0aW9ucyA9IHt9XG5cblx0c2V0VXAob3B0aW9ucywgaW5GaWxlUGF0aCwgb3V0RmlsZVBhdGgpXG5cdGUoYXN0KVxuXHRjb25zdCByZXMgPSB7Y29kZTogc3RyT3V0LCBzb3VyY2VNYXA6IHNvdXJjZU1hcC50b0pTT04oKX1cblx0dGVhckRvd24oKVxuXHRyZXR1cm4gcmVzXG59XG5cbi8vIE11c3QgaW5pdCB0aGVzZSBhbGwgYmVmb3JlIHJlbmRlcmluZy5cbmxldCBzdHJPdXQsXG5cdGluZGVudEFtb3VudCwgaW5kZW50U3RyLFxuXHR1c2luZ1NvdXJjZU1hcHMsIGN1ckFzdCwgaW5GaWxlUGF0aCwgc291cmNlTWFwLCBvdXRMaW5lLCBvdXRDb2x1bW4sIGxhc3RNYXBwZWRBc3QsXG5cdC8vIG9wdGlvbnNcblx0dWdseVxuXG5jb25zdFxuXHRzZXRVcCA9IChvcHRpb25zLCBpblBhdGgsIG91dFBhdGgpID0+IHtcblx0XHR1Z2x5ID0gQm9vbGVhbihvcHRpb25zLnVnbHkpXG5cblx0XHRpbmRlbnRBbW91bnQgPSAwXG5cdFx0X3NldEluZGVudCgpXG5cdFx0c3RyT3V0ID0gJydcblx0XHR1c2luZ1NvdXJjZU1hcHMgPSBpblBhdGggIT09IHVuZGVmaW5lZFxuXHRcdGlmICh1c2luZ1NvdXJjZU1hcHMpIHtcblx0XHRcdGluRmlsZVBhdGggPSBpblBhdGhcblx0XHRcdHNvdXJjZU1hcCA9IG5ldyBTb3VyY2VNYXBHZW5lcmF0b3Ioe2ZpbGU6IG91dFBhdGh9KVxuXHRcdFx0b3V0TGluZSA9IFN0YXJ0TGluZVxuXHRcdFx0b3V0Q29sdW1uID0gU3RhcnRDb2x1bW5cblx0XHRcdGxhc3RNYXBwZWRBc3QgPSBudWxsXG5cdFx0fVxuXHR9LFxuXG5cdHRlYXJEb3duID0gKCkgPT4ge1xuXHRcdHN0ck91dCA9ICcnXG5cdFx0aW5GaWxlUGF0aCA9IHNvdXJjZU1hcCA9IGN1ckFzdCA9IGxhc3RNYXBwZWRBc3QgPSB1bmRlZmluZWRcblx0fVxuXG5jb25zdFxuXHQvLyBSZW5kZXJzIGEgc2luZ2xlIGV4cHJlc3Npb24uXG5cdGUgPSBhc3QgPT4ge1xuXHRcdGlmICh1c2luZ1NvdXJjZU1hcHMpXG5cdFx0XHRjdXJBc3QgPSBhc3Rcblx0XHRhc3QucmVuZGVyKClcblx0fSxcblxuXHQvLyBPdXRwdXRzIGEgc3RyaW5nLlxuXHQvLyBzdHIgbWF5IG5vdCBjb250YWluIG5ld2xpbmVzLlxuXHRvID0gc3RyID0+IHtcblx0XHRzdHJPdXQgPSBzdHJPdXQgKyBzdHJcblx0XHRpZiAodXNpbmdTb3VyY2VNYXBzKVxuXHRcdFx0X21hcFN0cihzdHIpXG5cdH0sXG5cblx0aW50ZXJsZWF2ZSA9IChhc3RzLCBzdHIpID0+IHtcblx0XHRpZiAoIWlzRW1wdHkoYXN0cykpIHtcblx0XHRcdGNvbnN0IG1heEkgPSBhc3RzLmxlbmd0aCAtIDFcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbWF4STsgaSA9IGkgKyAxKSB7XG5cdFx0XHRcdGUoYXN0c1tpXSlcblx0XHRcdFx0byhzdHIpXG5cdFx0XHR9XG5cdFx0XHRlKGFzdHNbbWF4SV0pXG5cdFx0fVxuXHR9LFxuXG5cdHBhcmVuID0gYXN0cyA9PiB7XG5cdFx0bygnKCcpXG5cdFx0aW50ZXJsZWF2ZShhc3RzLCAnLCcpXG5cdFx0bygnKScpXG5cdH0sXG5cblx0YmxvY2sgPSAoYmxvY2tMaW5lcywgbGluZVNlcGFyYXRvcikgPT4ge1xuXHRcdGlmIChpc0VtcHR5KGJsb2NrTGluZXMpKVxuXHRcdFx0bygne30nKVxuXHRcdGVsc2Uge1xuXHRcdFx0bygneycpXG5cdFx0XHRpbmRlbnQoKVxuXHRcdFx0bmwoKVxuXHRcdFx0bGluZXMoYmxvY2tMaW5lcywgbGluZVNlcGFyYXRvcilcblx0XHRcdHVuaW5kZW50KClcblx0XHRcdG5sKClcblx0XHRcdG8oJ30nKVxuXHRcdH1cblx0fSxcblxuXHRsaW5lcyA9IChsaW5lcywgbGluZVNlcGFyYXRvcikgPT4ge1xuXHRcdGlmIChsaW5lcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBtYXhJID0gbGluZXMubGVuZ3RoIC0gMVxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYXhJOyBpID0gaSArIDEpIHtcblx0XHRcdFx0ZShsaW5lc1tpXSlcblx0XHRcdFx0byhsaW5lU2VwYXJhdG9yKVxuXHRcdFx0XHRubCgpXG5cdFx0XHR9XG5cdFx0XHRlKGxpbmVzW21heEldKVxuXHRcdH1cblx0fSxcblxuXHRpbmRlbnRTdHJzID0gWycnXSxcblx0X3NldEluZGVudCA9ICgpID0+IHtcblx0XHRpbmRlbnRTdHIgPSBpbmRlbnRTdHJzW2luZGVudEFtb3VudF1cblx0XHR3aGlsZSAoaW5kZW50U3RyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGluZGVudFN0cnMucHVzaChsYXN0KGluZGVudFN0cnMpICsgJ1xcdCcpXG5cdFx0XHRpbmRlbnRTdHIgPSBpbmRlbnRTdHJzW2luZGVudEFtb3VudF1cblx0XHR9XG5cdH0sXG5cdGluZGVudCA9ICgpID0+IHtcblx0XHRpZiAoIXVnbHkpIHtcblx0XHRcdGluZGVudEFtb3VudCA9IGluZGVudEFtb3VudCArIDFcblx0XHRcdF9zZXRJbmRlbnQoKVxuXHRcdH1cblx0fSxcblx0dW5pbmRlbnQgPSAoKSA9PiB7XG5cdFx0aWYgKCF1Z2x5KSB7XG5cdFx0XHRpbmRlbnRBbW91bnQgPSBpbmRlbnRBbW91bnQgLSAxXG5cdFx0XHRfc2V0SW5kZW50KClcblx0XHR9XG5cdH0sXG5cblx0bmwgPSAoKSA9PiB7XG5cdFx0aWYgKCF1Z2x5KSB7XG5cdFx0XHRzdHJPdXQgPSBzdHJPdXQgKyAnXFxuJyArIGluZGVudFN0clxuXHRcdFx0aWYgKHVzaW5nU291cmNlTWFwcylcblx0XHRcdFx0X21hcE5ld0xpbmUoKVxuXHRcdH1cblx0fSxcblxuXHQvLyBQcml2YXRlXG5cblx0X21hcFN0ciA9IHN0ciA9PiB7XG5cdFx0aWYgKGN1ckFzdCAhPT0gbGFzdE1hcHBlZEFzdCAmJiBjdXJBc3QubG9jICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHNvdXJjZU1hcC5hZGRNYXBwaW5nKHtcblx0XHRcdFx0c291cmNlOiBpbkZpbGVQYXRoLFxuXHRcdFx0XHRvcmlnaW5hbDogY3VyQXN0LmxvYy5zdGFydCxcblx0XHRcdFx0Z2VuZXJhdGVkOiBuZXcgUG9zKG91dExpbmUsIG91dENvbHVtbilcblx0XHRcdH0pXG5cdFx0XHRsYXN0TWFwcGVkQXN0ID0gY3VyQXN0XG5cdFx0fVxuXHRcdG91dENvbHVtbiA9IG91dENvbHVtbiArIHN0ci5sZW5ndGhcblx0fSxcblxuXHRfbWFwTmV3TGluZSA9ICgpID0+IHtcblx0XHRvdXRMaW5lID0gb3V0TGluZSArIDFcblx0XHRvdXRDb2x1bW4gPSBTdGFydENvbHVtbiArIGluZGVudEFtb3VudFxuXHRcdC8vIE1hcHBpbmdzIGVuZCBhdCBlbmQgb2YgbGluZS4gTXVzdCBiZWdpbiBhbmV3LlxuXHRcdGxhc3RNYXBwZWRBc3QgPSBudWxsXG5cdH1cblxuZnVuY3Rpb24gZnVuKCkge1xuXHRvKHRoaXMuZ2VuZXJhdG9yID8gJ2Z1bmN0aW9uKicgOiAnZnVuY3Rpb24nKVxuXHRpZiAodGhpcy5pZCAhPT0gbnVsbCkge1xuXHRcdG8oJyAnKVxuXHRcdGUodGhpcy5pZClcblx0fVxuXHRwYXJlbih0aGlzLnBhcmFtcylcblx0ZSh0aGlzLmJvZHkpXG59XG5cbmZ1bmN0aW9uIGFycigpIHtcblx0aWYgKGlzRW1wdHkodGhpcy5lbGVtZW50cykpXG5cdFx0bygnW10nKVxuXHRlbHNlIHtcblx0XHRvKCdbJylcblx0XHRpbnRlcmxlYXZlKHRoaXMuZWxlbWVudHMsICcsJylcblx0XHRvKCddJylcblx0fVxufVxuXG5mdW5jdGlvbiByQ2xhc3MoKSB7XG5cdG8oJ2NsYXNzICcpXG5cdGlmICh0aGlzLmlkICE9PSBudWxsKVxuXHRcdGUodGhpcy5pZClcblx0aWYgKHRoaXMuc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuXHRcdG8oJyBleHRlbmRzICcpXG5cdFx0ZSh0aGlzLnN1cGVyQ2xhc3MpXG5cdH1cblx0ZSh0aGlzLmJvZHkpXG59XG5cbmNvbnN0XG5cdGZvckluT2YgPSAoXywga2luZCkgPT4ge1xuXHRcdG8oJ2ZvcignKVxuXHRcdGUoXy5sZWZ0KVxuXHRcdG8oa2luZClcblx0XHRlKF8ucmlnaHQpXG5cdFx0bygnKScpXG5cdFx0ZShfLmJvZHkpXG5cdH1cblxuY29uc3Rcblx0aW1wbGVtZW50TWFueSA9IChob2xkZXIsIG1ldGhvZE5hbWUsIG5hbWVUb0ltcGwpID0+IHtcblx0XHRPYmplY3Qua2V5cyhuYW1lVG9JbXBsKS5mb3JFYWNoKG5hbWUgPT4ge1xuXHRcdFx0aG9sZGVyW25hbWVdLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IG5hbWVUb0ltcGxbbmFtZV1cblx0XHR9KVxuXHR9LFxuXG5cdGlzRW1wdHkgPSBhcnIgPT5cblx0XHRhcnIubGVuZ3RoID09PSAwLFxuXG5cdGxhc3QgPSBhcnIgPT5cblx0XHRhcnJbYXJyLmxlbmd0aCAtIDFdXG5cbmltcGxlbWVudE1hbnkoQXN0LCAncmVuZGVyJywge1xuXHRQcm9ncmFtKCkge1xuXHRcdGxpbmVzKHRoaXMuYm9keSwgJzsnKVxuXHR9LFxuXG5cdElkZW50aWZpZXIoKSB7XG5cdFx0byh0aGlzLm5hbWUpXG5cdH0sXG5cblx0Ly8gU3RhdGVtZW50c1xuXHRFbXB0eVN0YXRlbWVudCgpIHsgfSxcblx0QmxvY2tTdGF0ZW1lbnQoKSB7XG5cdFx0YmxvY2sodGhpcy5ib2R5LCAnOycpXG5cdH0sXG5cdEV4cHJlc3Npb25TdGF0ZW1lbnQoKSB7XG5cdFx0ZSh0aGlzLmV4cHJlc3Npb24pXG5cdH0sXG5cdElmU3RhdGVtZW50KCkge1xuXHRcdG8oJ2lmKCcpXG5cdFx0ZSh0aGlzLnRlc3QpXG5cdFx0bygnKScpXG5cdFx0ZSh0aGlzLmNvbnNlcXVlbnQpXG5cdFx0aWYgKHRoaXMuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG5cdFx0XHRpZiAoISh0aGlzLmNvbnNlcXVlbnQgaW5zdGFuY2VvZiBCbG9ja1N0YXRlbWVudCkpXG5cdFx0XHRcdG8oJzsnKVxuXHRcdFx0bygnIGVsc2UgJylcblx0XHRcdGUodGhpcy5hbHRlcm5hdGUpXG5cdFx0fVxuXHR9LFxuXHRMYWJlbGVkU3RhdGVtZW50KCkge1xuXHRcdGUodGhpcy5sYWJlbClcblx0XHRvKCc6Jylcblx0XHRlKHRoaXMuYm9keSlcblx0fSxcblx0QnJlYWtTdGF0ZW1lbnQoKSB7XG5cdFx0bygnYnJlYWsnKVxuXHRcdGlmICh0aGlzLmxhYmVsICE9PSBudWxsKSB7XG5cdFx0XHRvKCcgJylcblx0XHRcdGUodGhpcy5sYWJlbClcblx0XHR9XG5cdH0sXG5cdENvbnRpbnVlU3RhdGVtZW50KCkge1xuXHRcdG8oJ2NvbnRpbnVlJylcblx0XHRpZiAodGhpcy5sYWJlbCAhPT0gbnVsbCkge1xuXHRcdFx0bygnICcpXG5cdFx0XHRlKHRoaXMubGFiZWwpXG5cdFx0fVxuXHR9LFxuXHRTd2l0Y2hDYXNlKCkge1xuXHRcdGlmICh0aGlzLnRlc3QgIT09IG51bGwpIHtcblx0XHRcdG8oJ2Nhc2UgJylcblx0XHRcdGUodGhpcy50ZXN0KVxuXHRcdH0gZWxzZVxuXHRcdFx0bygnZGVmYXVsdCcpXG5cdFx0bygnOicpXG5cdFx0c3dpdGNoICh0aGlzLmNvbnNlcXVlbnQubGVuZ3RoKSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdGUodGhpcy5jb25zZXF1ZW50WzBdKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aW5kZW50KClcblx0XHRcdFx0bmwoKVxuXHRcdFx0XHRsaW5lcyh0aGlzLmNvbnNlcXVlbnQsICc7Jylcblx0XHRcdFx0dW5pbmRlbnQoKVxuXHRcdH1cblx0fSxcblx0U3dpdGNoU3RhdGVtZW50KCkge1xuXHRcdG8oJ3N3aXRjaCgnKVxuXHRcdGUodGhpcy5kaXNjcmltaW5hbnQpXG5cdFx0bygnKScpXG5cdFx0YmxvY2sodGhpcy5jYXNlcywgJycpXG5cdH0sXG5cdFJldHVyblN0YXRlbWVudCgpIHtcblx0XHRpZiAodGhpcy5hcmd1bWVudCAhPT0gbnVsbCkge1xuXHRcdFx0bygncmV0dXJuICcpXG5cdFx0XHRlKHRoaXMuYXJndW1lbnQpXG5cdFx0fSBlbHNlXG5cdFx0XHRvKCdyZXR1cm4nKVxuXHR9LFxuXHRUaHJvd1N0YXRlbWVudCgpIHtcblx0XHRvKCd0aHJvdyAnKVxuXHRcdGUodGhpcy5hcmd1bWVudClcblx0fSxcblx0Q2F0Y2hDbGF1c2UoKSB7XG5cdFx0bygnY2F0Y2goJylcblx0XHRlKHRoaXMucGFyYW0pXG5cdFx0bygnKScpXG5cdFx0ZSh0aGlzLmJvZHkpXG5cdH0sXG5cdFRyeVN0YXRlbWVudCgpIHtcblx0XHRvKCd0cnkgJylcblx0XHRlKHRoaXMuYmxvY2spXG5cdFx0aWYgKHRoaXMuaGFuZGxlciAhPT0gbnVsbClcblx0XHRcdGUodGhpcy5oYW5kbGVyKVxuXHRcdGlmICh0aGlzLmZpbmFsaXplciAhPT0gbnVsbCkge1xuXHRcdFx0bygnZmluYWxseScpXG5cdFx0XHRlKHRoaXMuZmluYWxpemVyKVxuXHRcdH1cblx0fSxcblx0V2hpbGVTdGF0ZW1lbnQoKSB7XG5cdFx0bygnd2hpbGUoJylcblx0XHRlKHRoaXMudGVzdClcblx0XHRvKCcpJylcblx0XHRlKHRoaXMuYm9keSlcblx0fSxcblx0RG9XaGlsZVN0YXRlbWVudCgpIHtcblx0XHRvKCdkbyAnKVxuXHRcdGUodGhpcy5ib2R5KVxuXHRcdGlmICghKHRoaXMuYm9keSBpbnN0YW5jZW9mIEJsb2NrU3RhdGVtZW50KSlcblx0XHRcdG8oJzsnKVxuXHRcdG8oJyB3aGlsZSgnKVxuXHRcdGUodGhpcy50ZXN0KVxuXHRcdG8oJyknKVxuXHR9LFxuXHRGb3JTdGF0ZW1lbnQoKSB7XG5cdFx0bygnZm9yKCcpXG5cdFx0aWYgKHRoaXMuaW5pdCAhPT0gbnVsbClcblx0XHRcdGUodGhpcy5pbml0KVxuXHRcdG8oJzsnKVxuXHRcdGlmICh0aGlzLnRlc3QgIT09IG51bGwpXG5cdFx0XHRlKHRoaXMudGVzdClcblx0XHRvKCc7Jylcblx0XHRpZiAodGhpcy51cGRhdGUgIT09IG51bGwpXG5cdFx0XHRlKHRoaXMudXBkYXRlKVxuXHRcdG8oJyknKVxuXHRcdGUodGhpcy5ib2R5KVxuXHR9LFxuXHRGb3JJblN0YXRlbWVudCgpIHsgZm9ySW5PZih0aGlzLCAnIGluICcpIH0sXG5cdEZvck9mU3RhdGVtZW50KCkgeyBmb3JJbk9mKHRoaXMsICcgb2YgJykgfSxcblx0RGVidWdnZXJTdGF0ZW1lbnQoKSB7XG5cdFx0bygnZGVidWdnZXInKVxuXHR9LFxuXG5cdC8vIERlY2xhcmF0aW9uc1xuXHRGdW5jdGlvbkRlY2xhcmF0aW9uOiBmdW4sXG5cdFZhcmlhYmxlRGVjbGFyYXRvcigpIHtcblx0XHRlKHRoaXMuaWQpXG5cdFx0aWYgKHRoaXMuaW5pdCAhPT0gbnVsbCkge1xuXHRcdFx0bygnPScpXG5cdFx0XHRlKHRoaXMuaW5pdClcblx0XHR9XG5cdH0sXG5cdFZhcmlhYmxlRGVjbGFyYXRpb24oKSB7XG5cdFx0byh0aGlzLmtpbmQpXG5cdFx0bygnICcpXG5cdFx0aW50ZXJsZWF2ZSh0aGlzLmRlY2xhcmF0aW9ucywgJywnKVxuXHR9LFxuXG5cdC8vIEV4cHJlc3Npb25zXG5cdFRoaXNFeHByZXNzaW9uKCkge1xuXHRcdG8oJ3RoaXMnKVxuXHR9LFxuXHRBcnJheUV4cHJlc3Npb246IGFycixcblx0T2JqZWN0RXhwcmVzc2lvbigpIHtcblx0XHRpZiAoaXNFbXB0eSh0aGlzLnByb3BlcnRpZXMpKVxuXHRcdFx0bygne30nKVxuXHRcdGVsc2Vcblx0XHRcdGJsb2NrKHRoaXMucHJvcGVydGllcywgJywnKVxuXHR9LFxuXHRQcm9wZXJ0eSgpIHtcblx0XHRpZiAodGhpcy5raW5kID09PSAnaW5pdCcpIHtcblx0XHRcdGUodGhpcy5rZXkpXG5cdFx0XHRvKCc6Jylcblx0XHRcdGUodGhpcy52YWx1ZSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0byh0aGlzLmtpbmQpXG5cdFx0XHRvKCcgJylcblx0XHRcdGUodGhpcy5rZXkpXG5cdFx0XHRwYXJlbih0aGlzLnZhbHVlLnBhcmFtcylcblx0XHRcdGUodGhpcy52YWx1ZS5ib2R5KVxuXHRcdH1cblx0fSxcblx0RnVuY3Rpb25FeHByZXNzaW9uOiBmdW4sXG5cdEFycm93RnVuY3Rpb25FeHByZXNzaW9uKCkge1xuXHRcdGlmICh0aGlzLnBhcmFtcy5sZW5ndGggPT09IDEgJiYgdGhpcy5wYXJhbXNbMF0gaW5zdGFuY2VvZiBJZGVudGlmaWVyKVxuXHRcdFx0ZSh0aGlzLnBhcmFtc1swXSlcblx0XHRlbHNlXG5cdFx0XHRwYXJlbih0aGlzLnBhcmFtcylcblx0XHRvKCc9PicpXG5cdFx0ZSh0aGlzLmJvZHkpXG5cdH0sXG5cdFNlcXVlbmNlRXhwcmVzc2lvbigpIHtcblx0XHRpbnRlcmxlYXZlKHRoaXMuZXhwcmVzc2lvbnMsICcsJylcblx0fSxcblx0VW5hcnlFeHByZXNzaW9uKCkge1xuXHRcdG8odGhpcy5vcGVyYXRvcilcblx0XHRvKCcgJylcblx0XHRlKHRoaXMuYXJndW1lbnQpXG5cdH0sXG5cdEJpbmFyeUV4cHJlc3Npb24oKSB7XG5cdFx0bygnKCcpXG5cdFx0ZSh0aGlzLmxlZnQpXG5cdFx0byh0aGlzLm9wZXJhdG9yID09PSAnaW5zdGFuY2VvZicgPyAnIGluc3RhbmNlb2YgJyA6IHRoaXMub3BlcmF0b3IpXG5cdFx0ZSh0aGlzLnJpZ2h0KVxuXHRcdG8oJyknKVxuXHR9LFxuXHRBc3NpZ25tZW50RXhwcmVzc2lvbigpIHtcblx0XHRlKHRoaXMubGVmdClcblx0XHRvKHRoaXMub3BlcmF0b3IpXG5cdFx0ZSh0aGlzLnJpZ2h0KVxuXHR9LFxuXHRVcGRhdGVFeHByZXNzaW9uKCkge1xuXHRcdGlmICh0aGlzLnByZWZpeCkge1xuXHRcdFx0byh0aGlzLm9wZXJhdG9yKVxuXHRcdFx0ZSh0aGlzLmFyZ3VtZW50KVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRlKHRoaXMuYXJndW1lbnQpXG5cdFx0XHRvKHRoaXMub3BlcmF0b3IpXG5cdFx0fVxuXHR9LFxuXHRMb2dpY2FsRXhwcmVzc2lvbigpIHtcblx0XHRvKCcoJylcblx0XHRlKHRoaXMubGVmdClcblx0XHRvKHRoaXMub3BlcmF0b3IpXG5cdFx0ZSh0aGlzLnJpZ2h0KVxuXHRcdG8oJyknKVxuXHR9LFxuXHRDb25kaXRpb25hbEV4cHJlc3Npb24oKSB7XG5cdFx0bygnKCcpXG5cdFx0ZSh0aGlzLnRlc3QpXG5cdFx0bygnPycpXG5cdFx0ZSh0aGlzLmNvbnNlcXVlbnQpXG5cdFx0bygnOicpXG5cdFx0ZSh0aGlzLmFsdGVybmF0ZSlcblx0XHRvKCcpJylcblx0fSxcblx0TmV3RXhwcmVzc2lvbigpIHtcblx0XHRvKCduZXcgKCcpXG5cdFx0ZSh0aGlzLmNhbGxlZSlcblx0XHRvKCcpJylcblx0XHRwYXJlbih0aGlzLmFyZ3VtZW50cylcblx0fSxcblx0Q2FsbEV4cHJlc3Npb24oKSB7XG5cdFx0aWYgKHRoaXMuY2FsbGVlIGluc3RhbmNlb2YgQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24pIHtcblx0XHRcdG8oJygnKVxuXHRcdFx0ZSh0aGlzLmNhbGxlZSlcblx0XHRcdG8oJyknKVxuXHRcdH0gZWxzZVxuXHRcdFx0ZSh0aGlzLmNhbGxlZSlcblx0XHRwYXJlbih0aGlzLmFyZ3VtZW50cylcblx0fSxcblx0U3ByZWFkRWxlbWVudCgpIHtcblx0XHRvKCcuLi4nKVxuXHRcdGUodGhpcy5hcmd1bWVudClcblx0fSxcblx0TWVtYmVyRXhwcmVzc2lvbigpIHtcblx0XHRlKHRoaXMub2JqZWN0KVxuXHRcdGlmICh0aGlzLmNvbXB1dGVkKSB7XG5cdFx0XHRvKCdbJylcblx0XHRcdGUodGhpcy5wcm9wZXJ0eSlcblx0XHRcdG8oJ10nKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGhpcy5vYmplY3QgaW5zdGFuY2VvZiBMaXRlcmFsICYmXG5cdFx0XHRcdHR5cGVvZiB0aGlzLm9iamVjdC52YWx1ZSA9PT0gJ251bWJlcicgJiZcblx0XHRcdFx0dGhpcy5vYmplY3QudmFsdWUgPT09ICh0aGlzLm9iamVjdC52YWx1ZSB8IDApKVxuXHRcdFx0XHRvKCcuLicpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG8oJy4nKVxuXHRcdFx0ZSh0aGlzLnByb3BlcnR5KVxuXHRcdH1cblx0fSxcblx0WWllbGRFeHByZXNzaW9uKCkge1xuXHRcdGlmICh0aGlzLmFyZ3VtZW50ID09PSBudWxsKVxuXHRcdFx0bygnKHlpZWxkKScpXG5cdFx0ZWxzZSB7XG5cdFx0XHRvKHRoaXMuZGVsZWdhdGUgPyAnKHlpZWxkKiAnIDogJyh5aWVsZCAnKVxuXHRcdFx0aWYgKHRoaXMuYXJndW1lbnQgIT09IG51bGwpXG5cdFx0XHRcdGUodGhpcy5hcmd1bWVudClcblx0XHRcdG8oJyknKVxuXHRcdH1cblx0fSxcblx0TGl0ZXJhbCgpIHtcblx0XHRpZiAodHlwZW9mIHRoaXMudmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRvKCdcIicpXG5cdFx0XHRvKGVzY2FwZVN0cmluZ0ZvckxpdGVyYWwodGhpcy52YWx1ZSkpXG5cdFx0XHRvKCdcIicpXG5cdFx0fVxuXHRcdGVsc2Vcblx0XHRcdG8odGhpcy52YWx1ZSA9PT0gbnVsbCA/ICdudWxsJyA6IHRoaXMudmFsdWUudG9TdHJpbmcoKSlcblx0fSxcblxuXHQvLyBUZW1wbGF0ZXNcblx0VGVtcGxhdGVFbGVtZW50KCkge1xuXHRcdG8odGhpcy52YWx1ZS5yYXcpXG5cdH0sXG5cdFRlbXBsYXRlTGl0ZXJhbCgpIHtcblx0XHRvKCdgJylcblx0XHRlKHRoaXMucXVhc2lzWzBdKVxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5leHByZXNzaW9ucy5sZW5ndGg7IGkgPSBpICsgMSlcdCB7XG5cdFx0XHRvKCckeycpXG5cdFx0XHRlKHRoaXMuZXhwcmVzc2lvbnNbaV0pXG5cdFx0XHRvKCd9Jylcblx0XHRcdGUodGhpcy5xdWFzaXNbaSArIDFdKVxuXHRcdH1cblx0XHRvKCdgJylcblx0fSxcblx0VGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uKCkge1xuXHRcdGUodGhpcy50YWcpXG5cdFx0ZSh0aGlzLnF1YXNpKVxuXHR9LFxuXG5cdC8vIFBhdHRlcm5zXG5cdEFzc2lnbm1lbnRQcm9wZXJ0eSgpIHtcblx0XHRlKHRoaXMua2V5KVxuXHRcdGlmICh0aGlzLmtleSAhPT0gdGhpcy52YWx1ZSkge1xuXHRcdFx0bygnOicpXG5cdFx0XHRlKHRoaXMudmFsdWUpXG5cdFx0fVxuXHR9LFxuXHRPYmplY3RQYXR0ZXJuKCkge1xuXHRcdG8oJ3snKVxuXHRcdGludGVybGVhdmUodGhpcy5wcm9wZXJ0aWVzLCAnLCcpXG5cdFx0bygnfScpXG5cdH0sXG5cdEFycmF5UGF0dGVybjogYXJyLFxuXHRSZXN0RWxlbWVudCgpIHtcblx0XHRvKCcuLi4nKVxuXHRcdGUodGhpcy5hcmd1bWVudClcblx0fSxcblxuXHRNZXRob2REZWZpbml0aW9uKCkge1xuXHRcdGlmICh0aGlzLnN0YXRpYylcblx0XHRcdG8oJ3N0YXRpYyAnKVxuXG5cdFx0Y29uc3QgZnVuID0gdGhpcy52YWx1ZVxuXHRcdGNvbnN0IHBhcmFtcyA9IGZ1bi5wYXJhbXNcblx0XHRjb25zdCBib2R5ID0gZnVuLmJvZHlcblxuXHRcdGNvbnN0IHJLZXkgPSAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5jb21wdXRlZCkge1xuXHRcdFx0XHRvKCdbJylcblx0XHRcdFx0ZSh0aGlzLmtleSlcblx0XHRcdFx0bygnXScpXG5cdFx0XHR9IGVsc2Vcblx0XHRcdFx0ZSh0aGlzLmtleSlcblx0XHR9XG5cblx0XHRpZiAoZnVuLmdlbmVyYXRvcilcblx0XHRcdG8oJyonKVxuXHRcdHN3aXRjaCAodGhpcy5raW5kKSB7XG5cdFx0XHRjYXNlICdjb25zdHJ1Y3Rvcic6XG5cdFx0XHRcdG8oJ2NvbnN0cnVjdG9yJylcblx0XHRcdFx0YnJlYWtcblx0XHRcdGNhc2UgJ21ldGhvZCc6XG5cdFx0XHRcdHJLZXkoKVxuXHRcdFx0XHRicmVha1xuXHRcdFx0Y2FzZSAnZ2V0JzogY2FzZSAnc2V0Jzpcblx0XHRcdFx0byh0aGlzLmtpbmQpXG5cdFx0XHRcdG8oJyAnKVxuXHRcdFx0XHRyS2V5KClcblx0XHRcdFx0YnJlYWtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcih0aGlzLmtpbmQpXG5cdFx0fVxuXG5cdFx0cGFyZW4ocGFyYW1zKVxuXHRcdGUoYm9keSlcblx0fSxcblxuXHRDbGFzc0JvZHkoKSB7XG5cdFx0YmxvY2sodGhpcy5ib2R5LCAnJylcblx0fSxcblxuXHRDbGFzc0RlY2xhcmF0aW9uOiByQ2xhc3MsXG5cdENsYXNzRXhwcmVzc2lvbjogckNsYXNzLFxuXG5cdEltcG9ydERlY2xhcmF0aW9uKCkge1xuXHRcdG8oJ2ltcG9ydCAnKVxuXG5cdFx0bGV0IGRlZiwgbmFtZXNwYWNlXG5cdFx0bGV0IHNwZWNpZmllcnMgPSBbXVxuXHRcdGZvciAoY29uc3QgcyBvZiB0aGlzLnNwZWNpZmllcnMpIHtcblx0XHRcdGlmIChzIGluc3RhbmNlb2YgSW1wb3J0RGVmYXVsdFNwZWNpZmllcilcblx0XHRcdFx0aWYgKGRlZiA9PT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdGRlZiA9IHNcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignTXVsdGlwbGUgZGVmYXVsdCBpbXBvcnRzJylcblx0XHRcdGVsc2UgaWYgKHMgaW5zdGFuY2VvZiBJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXIpXG5cdFx0XHRcdGlmIChuYW1lc3BhY2UgPT09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRuYW1lc3BhY2UgPSBzXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlIG5hbWVzcGFjZSBpbXBvcnRzJylcblx0XHRcdGVsc2Vcblx0XHRcdFx0Ly8gSW1wb3J0U3BlY2lmaWVyXG5cdFx0XHRcdHNwZWNpZmllcnMucHVzaChzKVxuXHRcdH1cblxuXHRcdGxldCBuZWVkQ29tbWEgPSBmYWxzZVxuXHRcdGlmIChkZWYgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZShkZWYpXG5cdFx0XHRuZWVkQ29tbWEgPSB0cnVlXG5cdFx0fVxuXHRcdGlmIChuYW1lc3BhY2UgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKG5lZWRDb21tYSlcblx0XHRcdFx0bygnLCcpXG5cdFx0XHRlKG5hbWVzcGFjZSlcblx0XHRcdG5lZWRDb21tYSA9IHRydWVcblx0XHR9XG5cdFx0aWYgKCFpc0VtcHR5KHNwZWNpZmllcnMpKSB7XG5cdFx0XHRpZiAobmVlZENvbW1hKVxuXHRcdFx0XHRvKCcsJylcblx0XHRcdG8oJ3snKVxuXHRcdFx0aW50ZXJsZWF2ZShzcGVjaWZpZXJzLCAnLCcpXG5cdFx0XHRvKCd9Jylcblx0XHR9XG5cblx0XHRvKCcgZnJvbSAnKVxuXHRcdGUodGhpcy5zb3VyY2UpXG5cdH0sXG5cdEltcG9ydFNwZWNpZmllcigpIHtcblx0XHRpZiAodGhpcy5pbXBvcnRlZCA9PT0gdGhpcy5sb2NhbClcblx0XHRcdGUodGhpcy5sb2NhbClcblx0XHRlbHNlIHtcblx0XHRcdGUodGhpcy5pbXBvcnRlZClcblx0XHRcdG8oJyBhcyAnKVxuXHRcdFx0ZSh0aGlzLmxvY2FsKVxuXHRcdH1cblx0fSxcblx0SW1wb3J0RGVmYXVsdFNwZWNpZmllcigpIHtcblx0XHRlKHRoaXMubG9jYWwpXG5cdH0sXG5cdEltcG9ydE5hbWVzcGFjZVNwZWNpZmllcigpIHtcblx0XHRvKCcqIGFzICcpXG5cdFx0ZSh0aGlzLmxvY2FsKVxuXHR9LFxuXG5cdEV4cG9ydFNwZWNpZmllcigpIHtcblx0XHRlKHRoaXMubG9jYWwpXG5cdFx0aWYgKHRoaXMuZXhwb3J0ZWQgIT09IHRoaXMubG9jYWwpIHtcblx0XHRcdG8oJyBhcyAnKVxuXHRcdFx0ZSh0aGlzLmV4cG9ydGVkKVxuXHRcdH1cblx0fSxcblx0RXhwb3J0TmFtZWREZWNsYXJhdGlvbigpIHtcblx0XHRvKCdleHBvcnQgJylcblx0XHRpZiAodGhpcy5kZWNsYXJhdGlvbiAhPT0gbnVsbClcblx0XHRcdGUodGhpcy5kZWNsYXJhdGlvbilcblx0XHRlbHNlIHtcblx0XHRcdG8oJ3snKVxuXHRcdFx0aW50ZXJsZWF2ZSh0aGlzLnNwZWNpZmllcnMsICcsJylcblx0XHRcdG8oJ30nKVxuXHRcdFx0aWYgKHRoaXMuc291cmNlICE9PSBudWxsKSB7XG5cdFx0XHRcdG8oJyBmcm9tICcpXG5cdFx0XHRcdGUodGhpcy5zb3VyY2UpXG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24oKSB7XG5cdFx0bygnZXhwb3J0IGRlZmF1bHQgJylcblx0XHRlKHRoaXMuZGVjbGFyYXRpb24pXG5cdH0sXG5cdEV4cG9ydEFsbERlY2xhcmF0aW9uKCkge1xuXHRcdG8oJ2V4cG9ydCAqIGZyb20gJylcblx0XHRlKHRoaXMuc291cmNlKVxuXHR9XG59KVxuXG5jb25zdFxuXHRlc2NhcGVTdHJpbmdGb3JMaXRlcmFsID0gc3RyID0+XG5cdFx0c3RyLnJlcGxhY2UoL1tcXFxcXCJcXG5cXHRcXGJcXGZcXHZcXHJcXHUyMDI4XFx1MjAyOV0vZywgY2ggPT4gbGl0ZXJhbEVzY2FwZXNbY2hdKSxcblx0bGl0ZXJhbEVzY2FwZXMgPSB7XG5cdFx0J1xcXFwnOiAnXFxcXFxcXFwnLFxuXHRcdCdcIic6ICdcXFxcXCInLFxuXHRcdCdcXG4nOiAnXFxcXG4nLFxuXHRcdCdcXHQnOiAnXFxcXHQnLFxuXHRcdCdcXGInOiAnXFxcXGInLFxuXHRcdCdcXGYnOiAnXFxcXGYnLFxuXHRcdCdcXHYnOiAnXFxcXHYnLFxuXHRcdCdcXHInOiAnXFxcXHInLFxuXHRcdCdcXHUyMDI4JzogJ1xcXFx1MjAyOCcsXG5cdFx0J1xcdTIwMjknOiAnXFxcXHUyMDI5J1xuXHR9XG4iXX0=