if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'source-map/lib/source-map/source-map-generator', './ast', './Loc', './private/util'], function (exports, _sourceMapLibSourceMapSourceMapGenerator, _ast, _Loc, _privateUtil) {
	'use strict';

	Object.defineProperty(exports, '__esModule', {
		value: true
	});

	exports['default'] = function (ast) {
		var options = arguments[1] === undefined ? {} : arguments[1];

		(0, _privateUtil.type)(ast, _ast.Node);
		init(options);
		e(ast);
		var res = strOut;
		uninit();
		return res;
	};

	var renderWithSourceMap = function renderWithSourceMap(ast, inFilePath, outFilePath) {
		var options = arguments[3] === undefined ? {} : arguments[3];

		(0, _privateUtil.type)(ast, _ast.Node, inFilePath, String, outFilePath, String);
		init(options, inFilePath, outFilePath);
		e(ast);
		var res = { code: strOut, sourceMap: sourceMap.toJSON() };
		uninit();
		return res;
	};

	exports.renderWithSourceMap = renderWithSourceMap;
	// Must init these all before rendering.
	var strOut = undefined,
	    indentAmount = undefined,
	    indentStr = undefined,
	    usingSourceMaps = undefined,
	    curAst = undefined,
	    inFilePath = undefined,
	    sourceMap = undefined,
	    outLine = undefined,
	    outColumn = undefined,
	    lastMappedAst = undefined,
	   
	// options
	ugly = undefined;

	var init = function init(options, inPath, outPath) {
		ugly = !!options.ugly;

		indentAmount = 0;
		_setIndent();
		strOut = '';
		usingSourceMaps = inPath !== undefined;
		if (usingSourceMaps) {
			inFilePath = inPath;
			sourceMap = new _sourceMapLibSourceMapSourceMapGenerator.SourceMapGenerator({ file: outPath });
			outLine = _Loc.StartLine;
			outColumn = _Loc.StartColumn;
			lastMappedAst = null;
		}
	},
	    uninit = function uninit() {
		strOut = '';
		inFilePath = sourceMap = curAst = lastMappedAst = undefined;
	};

	var
	// Renders a single expression.
	e = function e(ast) {
		if (usingSourceMaps) curAst = ast;
		ast.render();
	},
	   

	// str may not contain newlines.
	o = function o(str) {
		strOut = strOut + str;
		if (usingSourceMaps) _mapStr(str);
	},
	    interleave = function interleave(asts, str) {
		if (!(0, _privateUtil.isEmpty)(asts)) {
			var maxI = asts.length - 1;
			for (var i = 0; i < maxI; i = i + 1) {
				e(asts[i]);
				o(str);
			}
			e(asts[maxI]);
		}
	},
	    paren = function paren(asts) {
		o('(');
		interleave(asts, ',');
		o(')');
	},
	    block = function block(blockLines, lineSeparator) {
		if ((0, _privateUtil.isEmpty)(blockLines)) o('{}');else {
			o('{');
			indent();
			nl();
			lines(blockLines, lineSeparator);
			unindent();
			nl();
			o('}');
		}
	},
	    lines = function lines(_lines, lineSeparator) {
		var maxI = _lines.length - 1;
		for (var i = 0; i < maxI; i = i + 1) {
			e(_lines[i]);
			o(lineSeparator);
			nl();
		}
		e(_lines[maxI]);
	},
	    indentStrs = [''],
	    _setIndent = function _setIndent() {
		indentStr = indentStrs[indentAmount];
		while (indentStr === undefined) {
			indentStrs.push((0, _privateUtil.last)(indentStrs) + '\t');
			indentStr = indentStrs[indentAmount];
		}
	},
	    indent = function indent() {
		if (!ugly) {
			indentAmount = indentAmount + 1;
			_setIndent();
		}
	},
	    unindent = function unindent() {
		if (!ugly) {
			indentAmount = indentAmount - 1;
			_setIndent();
		}
	},
	    nl = function nl() {
		if (!ugly) {
			strOut = strOut + '\n' + indentStr;
			if (usingSourceMaps) _mapNewLine();
		}
	},
	   

	// Private

	_mapStr = function _mapStr(str) {
		if (curAst !== lastMappedAst && curAst.loc !== undefined) {
			sourceMap.addMapping({
				source: inFilePath,
				original: curAst.loc.start,
				generated: (0, _Loc.Pos)(outLine, outColumn)
			});
			lastMappedAst = curAst;
		}
		outColumn = outColumn + str.length;
	},
	    _mapNewLine = function _mapNewLine() {
		outLine = outLine + 1;
		outColumn = _Loc.StartColumn + indentAmount;
		// Mappings end at end of line. Must begin anew.
		lastMappedAst = null;
	};

	function fun() {
		o(this.generator ? 'function*' : 'function');
		if (this.id !== null) {
			o(' ');
			e(this.id);
		}
		paren(this.params);
		e(this.body);
	}

	function arr() {
		if ((0, _privateUtil.isEmpty)(this.elements)) o('[]');else {
			o('[');
			interleave(this.elements, ',');
			o(']');
		}
	}

	function rClass() {
		o('class ');
		if (this.id !== null) e(this.id);
		if (this.superClass !== null) {
			o(' extends ');
			e(this.superClass);
		}
		e(this.body);
	}

	var call = function call(_) {
		e(_.callee);
		paren(_.arguments);
	},
	    forInOf = function forInOf(_, kind) {
		o('for(');
		e(_.left);
		o(kind);
		e(_.right);
		o(')');
		e(_.body);
	},
	    strEscape = function strEscape(str) {
		return str.replace(/[\\"\n\t\b\f\v\r\u2028\u2029]/g, function (ch) {
			return _strEscapes[ch];
		});
	},
	    _strEscapes = {
		'\\': '\\\\',
		'"': '\\"',
		'\n': '\\n',
		'\t': '\\t',
		'\b': '\\b',
		'\f': '\\f',
		'\u000b': '\\v',
		'\r': '\\r',
		'\u2028': '\\u2028',
		'\u2029': '\\u2029'
	};

	(0, _privateUtil.implementMany)(_ast, 'render', {
		Program: function Program() {
			lines(this.body, ';');
		},

		Identifier: function Identifier() {
			o(this.name);
		},

		// Statements
		EmptyStatement: function EmptyStatement() {},
		BlockStatement: function BlockStatement() {
			block(this.body, ';');
		},
		ExpressionStatement: function ExpressionStatement() {
			e(this.expression);
		},
		IfStatement: function IfStatement() {
			o('if(');
			e(this.test);
			o(')');
			e(this.consequent);
			if (this.alternate !== null) {
				if (!(this.consequent instanceof _ast.BlockStatement)) o(';');
				o(' else ');
				e(this.alternate);
			}
		},
		LabeledStatement: function LabeledStatement() {
			e(this.label);
			o(':');
			e(this.body);
		},
		BreakStatement: function BreakStatement() {
			o('break');
			if (this.label !== null) {
				o(' ');
				e(this.label);
			}
		},
		ContinueStatement: function ContinueStatement() {
			o('continue');
			if (this.label !== null) {
				o(' ');
				e(this.label);
			}
		},
		SwitchCase: function SwitchCase() {
			if (this.test !== null) {
				o('case ');
				e(this.test);
			} else o('default');
			o(':');
			if (this.consequent.length === 1) e(this.consequent[0]);else {
				indent();
				nl();
				lines(this.consequent, ';');
				unindent();
			}
		},
		SwitchStatement: function SwitchStatement() {
			o('switch(');
			e(this.discriminant);
			o(')');
			block(this.cases, '');
		},
		ReturnStatement: function ReturnStatement() {
			if (this.argument !== null) {
				o('return ');
				e(this.argument);
			} else o('return');
		},
		ThrowStatement: function ThrowStatement() {
			o('throw ');
			e(this.argument);
		},
		CatchClause: function CatchClause() {
			o('catch(');
			e(this.param);
			o(')');
			e(this.body);
		},
		TryStatement: function TryStatement() {
			o('try ');
			e(this.block);
			if (this.handler !== null) e(this.handler);
			if (this.finalizer !== null) {
				o('finally');
				e(this.finalizer);
			}
		},
		WhileStatement: function WhileStatement() {
			o('while(');
			e(this.test);
			o(')');
			e(this.body);
		},
		DoWhileStatement: function DoWhileStatement() {
			o('do ');
			e(this.body);
			o(' while(');
			e(this.test);
			o(')');
		},
		ForStatement: function ForStatement() {
			o('for(');
			if (this.init !== null) e(this.init);
			o(';');
			if (this.test !== null) e(this.test);
			o(';');
			if (this.update !== null) e(this.update);
			o(')');
			e(this.body);
		},
		ForInStatement: function ForInStatement() {
			forInOf(this, ' in ');
		},
		ForOfStatement: function ForOfStatement() {
			forInOf(this, ' of ');
		},
		DebuggerStatement: function DebuggerStatement() {
			o('debugger');
		},

		// Declarations
		FunctionDeclaration: fun,
		VariableDeclarator: function VariableDeclarator() {
			e(this.id);
			if (this.init !== null) {
				o('=');
				e(this.init);
			}
		},
		VariableDeclaration: function VariableDeclaration() {
			o(this.kind);
			o(' ');
			interleave(this.declarations, ',');
		},

		// Expressions
		ThisExpression: function ThisExpression() {
			o('this');
		},
		ArrayExpression: arr,
		ObjectExpression: function ObjectExpression() {
			if ((0, _privateUtil.isEmpty)(this.properties)) o('{}');else block(this.properties, ',');
		},
		Property: function Property() {
			if (this.kind === 'init') {
				e(this.key);
				o(':');
				e(this.value);
			} else {
				(0, _privateUtil.assert)(this.kind === 'get' || this.kind === 'set');
				o(this.kind);
				o(' ');
				e(this.key);
				paren(this.value.params);
				(0, _privateUtil.assert)(this.value instanceof _ast.FunctionExpression);
				(0, _privateUtil.assert)(this.value.id === null && !this.value.generator);
				e(this.value.body);
			}
		},
		FunctionExpression: fun,
		ArrowFunctionExpression: function ArrowFunctionExpression() {
			if (this.params.length === 1 && this.params[0] instanceof _ast.Identifier) e(this.params[0]);else paren(this.params);
			o('=>');
			e(this.body);
		},
		SequenceExpression: function SequenceExpression() {
			interleave(this.expressions, ',');
		},
		UnaryExpression: function UnaryExpression() {
			o(this.operator);
			o(' ');
			e(this.argument);
		},
		BinaryExpression: function BinaryExpression() {
			o('(');
			e(this.left);
			o(this.operator === 'instanceof' ? ' instanceof ' : this.operator);
			e(this.right);
			o(')');
		},
		AssignmentExpression: function AssignmentExpression() {
			e(this.left);
			o(this.operator);
			e(this.right);
		},
		UpdateExpression: function UpdateExpression() {
			if (this.prefix) {
				o(this.operator);
				e(this.argument);
			} else {
				e(this.argument);
				o(this.operator);
			}
		},
		LogicalExpression: function LogicalExpression() {
			o('(');
			e(this.left);
			o(this.operator);
			e(this.right);
			o(')');
		},
		ConditionalExpression: function ConditionalExpression() {
			e(this.test);
			o('?');
			e(this.consequent);
			o(':');
			e(this.alternate);
		},
		NewExpression: function NewExpression() {
			o('new ');
			call(this);
		},
		CallExpression: function CallExpression() {
			call(this);
		},
		MemberExpression: function MemberExpression() {
			e(this.object);
			if (this.computed) {
				o('[');
				e(this.property);
				o(']');
			} else {
				o('.');
				e(this.property);
			}
		},
		YieldExpression: function YieldExpression() {
			o(this.delegate ? '(yield* ' : '(yield ');
			e(this.argument);
			o(')');
		},
		Literal: function Literal() {
			if (typeof this.value === 'string') {
				o('"');
				o(strEscape(this.value));
				o('"');
			} else o(this.value === null ? 'null' : this.value.toString());
		},

		// Templates
		TemplateElement: function TemplateElement() {
			o(this.value.raw);
		},
		TemplateLiteral: function TemplateLiteral() {
			o('`');
			(0, _privateUtil.assert)(this.quasis.length === this.expressions.length + 1);
			e(this.quasis[0]);
			for (var i = 0; i < this.expressions.length; i = i + 1) {
				o('${');
				e(this.expressions[i]);
				o('}');
				e(this.quasis[i + 1]);
			}
			o('`');
		},
		TaggedTemplateExpression: function TaggedTemplateExpression() {
			e(this.tag);
			e(this.quasi);
		},

		// Patterns
		AssignmentProperty: function AssignmentProperty() {
			e(this.key);
			if (this.key !== this.value) {
				o(':');
				e(this.value);
			}
		},
		ObjectPattern: function ObjectPattern() {
			o('{');
			interleave(this.properties, ',');
			o('}');
		},
		ArrayPattern: arr,
		RestElement: function RestElement() {
			o('...');
			e(this.argument);
		},

		MethodDefinition: function MethodDefinition() {
			var _this = this;

			if (this['static']) o('static ');

			var fun = this.value;
			// TODO
			(0, _privateUtil.assert)(!fun.generator);
			(0, _privateUtil.assert)(fun.id === null);
			var params = fun.params;
			var body = fun.body;

			var rKey = function rKey() {
				if (_this.computed) {
					o('[');
					e(_this.key);
					o(']');
				} else e(_this.key);
			};

			switch (this.kind) {
				case 'constructor':
					(0, _privateUtil.assert)(this.key instanceof _ast.Identifier && this.key.name === 'constructor');
					o('constructor');
					break;
				case 'method':
					rKey();
					break;
				case 'get':case 'set':
					o(this.kind);
					o(' ');
					rKey();
					break;
				default:
					throw new Error(this.kind);
			}

			paren(params);
			e(body);
		},

		ClassBody: function ClassBody() {
			block(this.body, '');
		},

		ClassDeclaration: rClass,
		ClassExpression: rClass,

		ImportDeclaration: function ImportDeclaration() {
			o('import ');

			var def = undefined,
			    namespace = undefined;
			var specifiers = [];
			this.specifiers.forEach(function (s) {
				if (s instanceof _ast.ImportDefaultSpecifier) if (def === undefined) def = s;else throw new Error('Multiple default imports');else if (s instanceof _ast.ImportNamespaceSpecifier) if (namespace === undefined) namespace = s;else throw new Error('Multiple namespace imports');else {
					(0, _privateUtil.assert)(s instanceof _ast.ImportSpecifier);
					specifiers.push(s);
				}
			});

			var needComma = false;
			if (def !== undefined) {
				e(def);
				needComma = true;
			}
			if (namespace !== undefined) {
				if (needComma) o(',');
				e(namespace);
				needComma = true;
			}
			if (!(0, _privateUtil.isEmpty)(specifiers)) {
				if (needComma) o(',');
				o('{');
				interleave(specifiers, ',');
				o('}');
			}

			o(' from ');
			e(this.source);
		},
		ImportSpecifier: function ImportSpecifier() {
			if (this.imported === this.local) e(this.local);else {
				e(this.imported);
				o(' as ');
				e(this.local);
			}
		},
		ImportDefaultSpecifier: function ImportDefaultSpecifier() {
			e(this.local);
		},
		ImportNamespaceSpecifier: function ImportNamespaceSpecifier() {
			o('* as ');
			e(this.local);
		},

		ExportSpecifier: function ExportSpecifier() {
			e(this.local);
			if (this.exported !== this.local) {
				o(' as ');
				e(this.exported);
			}
		},
		ExportNamedDeclaration: function ExportNamedDeclaration() {
			o('export ');
			if (this.declaration !== null) {
				(0, _privateUtil.assert)((0, _privateUtil.isEmpty)(this.specifiers));
				(0, _privateUtil.assert)(this.source === null);
				e(this.declaration);
			} else {
				o('{');
				interleave(this.specifiers, ',');
				o('}');
				if (this.source !== null) {
					o(' from ');
					e(this.source);
				}
			}
		},
		ExportDefaultDeclaration: function ExportDefaultDeclaration() {
			o('export default ');
			e(this.declaration);
		},
		ExportAllDeclaration: function ExportAllDeclaration() {
			o('export * from ');
			e(this.source);
		}
	});
});
//# sourceMappingURL=data:application/json;base64,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c25CTCxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxDQUFBO0FBQzVCLEtBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUE7SUFDbkIsTUFBTTtBQUNOLEtBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNOLGNBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQ2hDLEtBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNOLFFBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJLEVBQUU7QUFDekIsTUFBQyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ1gsTUFBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtLQUNkO0lBQ0Q7R0FDRDtBQUNELDBCQUF3QixFQUFBLG9DQUFHO0FBQzFCLElBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO0FBQ3BCLElBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUE7R0FDbkI7QUFDRCxzQkFBb0IsRUFBQSxnQ0FBRztBQUN0QixJQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtBQUNuQixJQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO0dBQ2Q7RUFDRCxDQUFDLENBQUEiLCJmaWxlIjoicmVuZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU291cmNlTWFwR2VuZXJhdG9yIH0gZnJvbSAnc291cmNlLW1hcC9saWIvc291cmNlLW1hcC9zb3VyY2UtbWFwLWdlbmVyYXRvcidcbmltcG9ydCAqIGFzIEFzdCBmcm9tICcuL2FzdCdcbmltcG9ydCB7IFBvcywgU3RhcnRDb2x1bW4sIFN0YXJ0TGluZSB9IGZyb20gJy4vTG9jJ1xuaW1wb3J0IHsgYXNzZXJ0LCBpbXBsZW1lbnRNYW55LCBpc0VtcHR5LCBsYXN0LCB0eXBlIH0gZnJvbSAnLi9wcml2YXRlL3V0aWwnXG5cbmV4cG9ydCBkZWZhdWx0IChhc3QsIG9wdGlvbnMgPSB7IH0pID0+IHtcblx0dHlwZShhc3QsIEFzdC5Ob2RlKVxuXHRpbml0KG9wdGlvbnMpXG5cdGUoYXN0KVxuXHRjb25zdCByZXMgPSBzdHJPdXRcblx0dW5pbml0KClcblx0cmV0dXJuIHJlc1xufVxuXG5leHBvcnQgY29uc3QgcmVuZGVyV2l0aFNvdXJjZU1hcCA9IChhc3QsIGluRmlsZVBhdGgsIG91dEZpbGVQYXRoLCBvcHRpb25zID0geyB9KSA9PiB7XG5cdHR5cGUoYXN0LCBBc3QuTm9kZSwgaW5GaWxlUGF0aCwgU3RyaW5nLCBvdXRGaWxlUGF0aCwgU3RyaW5nKVxuXHRpbml0KG9wdGlvbnMsIGluRmlsZVBhdGgsIG91dEZpbGVQYXRoKVxuXHRlKGFzdClcblx0Y29uc3QgcmVzID0geyBjb2RlOiBzdHJPdXQsIHNvdXJjZU1hcDogc291cmNlTWFwLnRvSlNPTigpIH1cblx0dW5pbml0KClcblx0cmV0dXJuIHJlc1xufVxuXG4vLyBNdXN0IGluaXQgdGhlc2UgYWxsIGJlZm9yZSByZW5kZXJpbmcuXG5sZXQgc3RyT3V0LFxuXHRpbmRlbnRBbW91bnQsIGluZGVudFN0cixcblx0dXNpbmdTb3VyY2VNYXBzLCBjdXJBc3QsIGluRmlsZVBhdGgsIHNvdXJjZU1hcCwgb3V0TGluZSwgb3V0Q29sdW1uLCBsYXN0TWFwcGVkQXN0LFxuXHQvLyBvcHRpb25zXG5cdHVnbHlcblxuY29uc3Rcblx0aW5pdCA9IChvcHRpb25zLCBpblBhdGgsIG91dFBhdGgpID0+IHtcblx0XHR1Z2x5ID0gISFvcHRpb25zLnVnbHlcblxuXHRcdGluZGVudEFtb3VudCA9IDBcblx0XHRfc2V0SW5kZW50KClcblx0XHRzdHJPdXQgPSAnJ1xuXHRcdHVzaW5nU291cmNlTWFwcyA9IGluUGF0aCAhPT0gdW5kZWZpbmVkXG5cdFx0aWYgKHVzaW5nU291cmNlTWFwcykge1xuXHRcdFx0aW5GaWxlUGF0aCA9IGluUGF0aFxuXHRcdFx0c291cmNlTWFwID0gbmV3IFNvdXJjZU1hcEdlbmVyYXRvcih7IGZpbGU6IG91dFBhdGggfSlcblx0XHRcdG91dExpbmUgPSBTdGFydExpbmVcblx0XHRcdG91dENvbHVtbiA9IFN0YXJ0Q29sdW1uXG5cdFx0XHRsYXN0TWFwcGVkQXN0ID0gbnVsbFxuXHRcdH1cblx0fSxcblxuXHR1bmluaXQgPSAoKSA9PiB7XG5cdFx0c3RyT3V0ID0gJydcblx0XHRpbkZpbGVQYXRoID0gc291cmNlTWFwID0gY3VyQXN0ID0gbGFzdE1hcHBlZEFzdCA9IHVuZGVmaW5lZFxuXHR9XG5cbmNvbnN0XG5cdC8vIFJlbmRlcnMgYSBzaW5nbGUgZXhwcmVzc2lvbi5cblx0ZSA9IGFzdCA9PiB7XG5cdFx0aWYgKHVzaW5nU291cmNlTWFwcylcblx0XHRcdGN1ckFzdCA9IGFzdFxuXHRcdGFzdC5yZW5kZXIoKVxuXHR9LFxuXG5cdC8vIHN0ciBtYXkgbm90IGNvbnRhaW4gbmV3bGluZXMuXG5cdG8gPSBzdHIgPT4ge1xuXHRcdHN0ck91dCA9IHN0ck91dCArIHN0clxuXHRcdGlmICh1c2luZ1NvdXJjZU1hcHMpXG5cdFx0XHRfbWFwU3RyKHN0cilcblx0fSxcblxuXHRpbnRlcmxlYXZlID0gKGFzdHMsIHN0cikgPT4ge1xuXHRcdGlmICghaXNFbXB0eShhc3RzKSkge1xuXHRcdFx0Y29uc3QgbWF4SSA9IGFzdHMubGVuZ3RoIC0gMVxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYXhJOyBpID0gaSArIDEpIHtcblx0XHRcdFx0ZShhc3RzW2ldKVxuXHRcdFx0XHRvKHN0cilcblx0XHRcdH1cblx0XHRcdGUoYXN0c1ttYXhJXSlcblx0XHR9XG5cdH0sXG5cblx0cGFyZW4gPSAoYXN0cykgPT4ge1xuXHRcdG8oJygnKVxuXHRcdGludGVybGVhdmUoYXN0cywgJywnKVxuXHRcdG8oJyknKVxuXHR9LFxuXG5cdGJsb2NrID0gKGJsb2NrTGluZXMsIGxpbmVTZXBhcmF0b3IpID0+IHtcblx0XHRpZiAoaXNFbXB0eShibG9ja0xpbmVzKSlcblx0XHRcdG8oJ3t9Jylcblx0XHRlbHNlIHtcblx0XHRcdG8oJ3snKVxuXHRcdFx0aW5kZW50KClcblx0XHRcdG5sKClcblx0XHRcdGxpbmVzKGJsb2NrTGluZXMsIGxpbmVTZXBhcmF0b3IpXG5cdFx0XHR1bmluZGVudCgpXG5cdFx0XHRubCgpXG5cdFx0XHRvKCd9Jylcblx0XHR9XG5cdH0sXG5cblx0bGluZXMgPSAobGluZXMsIGxpbmVTZXBhcmF0b3IpID0+IHtcblx0XHRjb25zdCBtYXhJID0gbGluZXMubGVuZ3RoIC0gMVxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbWF4STsgaSA9IGkgKyAxKSB7XG5cdFx0XHRlKGxpbmVzW2ldKVxuXHRcdFx0byhsaW5lU2VwYXJhdG9yKVxuXHRcdFx0bmwoKVxuXHRcdH1cblx0XHRlKGxpbmVzW21heEldKVxuXHR9LFxuXG5cdGluZGVudFN0cnMgPSBbICcnIF0sXG5cdF9zZXRJbmRlbnQgPSAoKSA9PiB7XG5cdFx0aW5kZW50U3RyID0gaW5kZW50U3Ryc1tpbmRlbnRBbW91bnRdXG5cdFx0d2hpbGUgKGluZGVudFN0ciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpbmRlbnRTdHJzLnB1c2gobGFzdChpbmRlbnRTdHJzKSArICdcXHQnKVxuXHRcdFx0aW5kZW50U3RyID0gaW5kZW50U3Ryc1tpbmRlbnRBbW91bnRdXG5cdFx0fVxuXHR9LFxuXHRpbmRlbnQgPSAoKSA9PiB7XG5cdFx0aWYgKCF1Z2x5KSB7XG5cdFx0XHRpbmRlbnRBbW91bnQgPSBpbmRlbnRBbW91bnQgKyAxXG5cdFx0XHRfc2V0SW5kZW50KClcblx0XHR9XG5cdH0sXG5cdHVuaW5kZW50ID0gKCkgPT4ge1xuXHRcdGlmICghdWdseSkge1xuXHRcdFx0aW5kZW50QW1vdW50ID0gaW5kZW50QW1vdW50IC0gMVxuXHRcdFx0X3NldEluZGVudCgpXG5cdFx0fVxuXHR9LFxuXG5cdG5sID0gKCkgPT4ge1xuXHRcdGlmICghdWdseSkge1xuXHRcdFx0c3RyT3V0ID0gc3RyT3V0ICsgJ1xcbicgKyBpbmRlbnRTdHJcblx0XHRcdGlmICh1c2luZ1NvdXJjZU1hcHMpXG5cdFx0XHRcdF9tYXBOZXdMaW5lKClcblx0XHR9XG5cdH0sXG5cblx0Ly8gUHJpdmF0ZVxuXG5cdF9tYXBTdHIgPSBzdHIgPT4ge1xuXHRcdGlmIChjdXJBc3QgIT09IGxhc3RNYXBwZWRBc3QgJiYgY3VyQXN0LmxvYyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRzb3VyY2VNYXAuYWRkTWFwcGluZyh7XG5cdFx0XHRcdHNvdXJjZTogaW5GaWxlUGF0aCxcblx0XHRcdFx0b3JpZ2luYWw6IGN1ckFzdC5sb2Muc3RhcnQsXG5cdFx0XHRcdGdlbmVyYXRlZDogUG9zKG91dExpbmUsIG91dENvbHVtbilcblx0XHRcdH0pXG5cdFx0XHRsYXN0TWFwcGVkQXN0ID0gY3VyQXN0XG5cdFx0fVxuXHRcdG91dENvbHVtbiA9IG91dENvbHVtbiArIHN0ci5sZW5ndGhcblx0fSxcblxuXHRfbWFwTmV3TGluZSA9ICgpID0+IHtcblx0XHRvdXRMaW5lID0gb3V0TGluZSArIDFcblx0XHRvdXRDb2x1bW4gPSBTdGFydENvbHVtbiArIGluZGVudEFtb3VudFxuXHRcdC8vIE1hcHBpbmdzIGVuZCBhdCBlbmQgb2YgbGluZS4gTXVzdCBiZWdpbiBhbmV3LlxuXHRcdGxhc3RNYXBwZWRBc3QgPSBudWxsXG5cdH1cblxuZnVuY3Rpb24gZnVuKCkge1xuXHRvKHRoaXMuZ2VuZXJhdG9yID8gJ2Z1bmN0aW9uKicgOiAnZnVuY3Rpb24nKVxuXHRpZiAodGhpcy5pZCAhPT0gbnVsbCkge1xuXHRcdG8oJyAnKVxuXHRcdGUodGhpcy5pZClcblx0fVxuXHRwYXJlbih0aGlzLnBhcmFtcylcblx0ZSh0aGlzLmJvZHkpXG59XG5cbmZ1bmN0aW9uIGFycigpIHtcblx0aWYgKGlzRW1wdHkodGhpcy5lbGVtZW50cykpXG5cdFx0bygnW10nKVxuXHRlbHNlIHtcblx0XHRvKCdbJylcblx0XHRpbnRlcmxlYXZlKHRoaXMuZWxlbWVudHMsICcsJylcblx0XHRvKCddJylcblx0fVxufVxuXG5mdW5jdGlvbiByQ2xhc3MoKSB7XG5cdG8oJ2NsYXNzICcpXG5cdGlmICh0aGlzLmlkICE9PSBudWxsKVxuXHRcdGUodGhpcy5pZClcblx0aWYgKHRoaXMuc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuXHRcdG8oJyBleHRlbmRzICcpXG5cdFx0ZSh0aGlzLnN1cGVyQ2xhc3MpXG5cdH1cblx0ZSh0aGlzLmJvZHkpXG59XG5cbmNvbnN0XG5cdGNhbGwgPSBfID0+IHtcblx0XHRlKF8uY2FsbGVlKVxuXHRcdHBhcmVuKF8uYXJndW1lbnRzKVxuXHR9LFxuXG5cdGZvckluT2YgPSAoXywga2luZCkgPT4ge1xuXHRcdG8oJ2ZvcignKVxuXHRcdGUoXy5sZWZ0KVxuXHRcdG8oa2luZClcblx0XHRlKF8ucmlnaHQpXG5cdFx0bygnKScpXG5cdFx0ZShfLmJvZHkpXG5cdH0sXG5cblx0c3RyRXNjYXBlID0gc3RyID0+XG5cdFx0c3RyLnJlcGxhY2UoL1tcXFxcXCJcXG5cXHRcXGJcXGZcXHZcXHJcXHUyMDI4XFx1MjAyOV0vZywgY2ggPT4gX3N0ckVzY2FwZXNbY2hdKSxcblx0X3N0ckVzY2FwZXMgPSB7XG5cdFx0J1xcXFwnOiAnXFxcXFxcXFwnLFxuXHRcdCdcIic6ICdcXFxcXCInLFxuXHRcdCdcXG4nOiAnXFxcXG4nLFxuXHRcdCdcXHQnOiAnXFxcXHQnLFxuXHRcdCdcXGInOiAnXFxcXGInLFxuXHRcdCdcXGYnOiAnXFxcXGYnLFxuXHRcdCdcXHYnOiAnXFxcXHYnLFxuXHRcdCdcXHInOiAnXFxcXHInLFxuXHRcdCdcXHUyMDI4JzogJ1xcXFx1MjAyOCcsXG5cdFx0J1xcdTIwMjknOiAnXFxcXHUyMDI5J1xuXHR9XG5cbmltcGxlbWVudE1hbnkoQXN0LCAncmVuZGVyJywge1xuXHRQcm9ncmFtKCkge1xuXHRcdGxpbmVzKHRoaXMuYm9keSwgJzsnKVxuXHR9LFxuXG5cdElkZW50aWZpZXIoKSB7XG5cdFx0byh0aGlzLm5hbWUpXG5cdH0sXG5cblx0Ly8gU3RhdGVtZW50c1xuXHRFbXB0eVN0YXRlbWVudCgpIHsgfSxcblx0QmxvY2tTdGF0ZW1lbnQoKSB7XG5cdFx0YmxvY2sodGhpcy5ib2R5LCAnOycpXG5cdH0sXG5cdEV4cHJlc3Npb25TdGF0ZW1lbnQoKSB7XG5cdFx0ZSh0aGlzLmV4cHJlc3Npb24pXG5cdH0sXG5cdElmU3RhdGVtZW50KCkge1xuXHRcdG8oJ2lmKCcpXG5cdFx0ZSh0aGlzLnRlc3QpXG5cdFx0bygnKScpXG5cdFx0ZSh0aGlzLmNvbnNlcXVlbnQpXG5cdFx0aWYgKHRoaXMuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG5cdFx0XHRpZiAoISh0aGlzLmNvbnNlcXVlbnQgaW5zdGFuY2VvZiBBc3QuQmxvY2tTdGF0ZW1lbnQpKVxuXHRcdFx0XHRvKCc7Jylcblx0XHRcdG8oJyBlbHNlICcpXG5cdFx0XHRlKHRoaXMuYWx0ZXJuYXRlKVxuXHRcdH1cblx0fSxcblx0TGFiZWxlZFN0YXRlbWVudCgpIHtcblx0XHRlKHRoaXMubGFiZWwpXG5cdFx0bygnOicpXG5cdFx0ZSh0aGlzLmJvZHkpXG5cdH0sXG5cdEJyZWFrU3RhdGVtZW50KCkge1xuXHRcdG8oJ2JyZWFrJylcblx0XHRpZiAodGhpcy5sYWJlbCAhPT0gbnVsbCkge1xuXHRcdFx0bygnICcpXG5cdFx0XHRlKHRoaXMubGFiZWwpXG5cdFx0fVxuXHR9LFxuXHRDb250aW51ZVN0YXRlbWVudCgpIHtcblx0XHRvKCdjb250aW51ZScpXG5cdFx0aWYgKHRoaXMubGFiZWwgIT09IG51bGwpIHtcblx0XHRcdG8oJyAnKVxuXHRcdFx0ZSh0aGlzLmxhYmVsKVxuXHRcdH1cblx0fSxcblx0U3dpdGNoQ2FzZSgpIHtcblx0XHRpZiAodGhpcy50ZXN0ICE9PSBudWxsKSB7XG5cdFx0XHRvKCdjYXNlICcpXG5cdFx0XHRlKHRoaXMudGVzdClcblx0XHR9IGVsc2Vcblx0XHRcdG8oJ2RlZmF1bHQnKVxuXHRcdG8oJzonKVxuXHRcdGlmICh0aGlzLmNvbnNlcXVlbnQubGVuZ3RoID09PSAxKVxuXHRcdFx0ZSh0aGlzLmNvbnNlcXVlbnRbMF0pXG5cdFx0ZWxzZSB7XG5cdFx0XHRpbmRlbnQoKVxuXHRcdFx0bmwoKVxuXHRcdFx0bGluZXModGhpcy5jb25zZXF1ZW50LCAnOycpXG5cdFx0XHR1bmluZGVudCgpXG5cdFx0fVxuXHR9LFxuXHRTd2l0Y2hTdGF0ZW1lbnQoKSB7XG5cdFx0bygnc3dpdGNoKCcpXG5cdFx0ZSh0aGlzLmRpc2NyaW1pbmFudClcblx0XHRvKCcpJylcblx0XHRibG9jayh0aGlzLmNhc2VzLCAnJylcblx0fSxcblx0UmV0dXJuU3RhdGVtZW50KCkge1xuXHRcdGlmICh0aGlzLmFyZ3VtZW50ICE9PSBudWxsKSB7XG5cdFx0XHRvKCdyZXR1cm4gJylcblx0XHRcdGUodGhpcy5hcmd1bWVudClcblx0XHR9IGVsc2Vcblx0XHRcdG8oJ3JldHVybicpXG5cdH0sXG5cdFRocm93U3RhdGVtZW50KCkge1xuXHRcdG8oJ3Rocm93ICcpXG5cdFx0ZSh0aGlzLmFyZ3VtZW50KVxuXHR9LFxuXHRDYXRjaENsYXVzZSgpIHtcblx0XHRvKCdjYXRjaCgnKVxuXHRcdGUodGhpcy5wYXJhbSlcblx0XHRvKCcpJylcblx0XHRlKHRoaXMuYm9keSlcblx0fSxcblx0VHJ5U3RhdGVtZW50KCkge1xuXHRcdG8oJ3RyeSAnKVxuXHRcdGUodGhpcy5ibG9jaylcblx0XHRpZiAodGhpcy5oYW5kbGVyICE9PSBudWxsKVxuXHRcdFx0ZSh0aGlzLmhhbmRsZXIpXG5cdFx0aWYgKHRoaXMuZmluYWxpemVyICE9PSBudWxsKSB7XG5cdFx0XHRvKCdmaW5hbGx5Jylcblx0XHRcdGUodGhpcy5maW5hbGl6ZXIpXG5cdFx0fVxuXHR9LFxuXHRXaGlsZVN0YXRlbWVudCgpIHtcblx0XHRvKCd3aGlsZSgnKVxuXHRcdGUodGhpcy50ZXN0KVxuXHRcdG8oJyknKVxuXHRcdGUodGhpcy5ib2R5KVxuXHR9LFxuXHREb1doaWxlU3RhdGVtZW50KCkge1xuXHRcdG8oJ2RvICcpXG5cdFx0ZSh0aGlzLmJvZHkpXG5cdFx0bygnIHdoaWxlKCcpXG5cdFx0ZSh0aGlzLnRlc3QpXG5cdFx0bygnKScpXG5cdH0sXG5cdEZvclN0YXRlbWVudCgpIHtcblx0XHRvKCdmb3IoJylcblx0XHRpZiAodGhpcy5pbml0ICE9PSBudWxsKVxuXHRcdFx0ZSh0aGlzLmluaXQpXG5cdFx0bygnOycpXG5cdFx0aWYgKHRoaXMudGVzdCAhPT0gbnVsbClcblx0XHRcdGUodGhpcy50ZXN0KVxuXHRcdG8oJzsnKVxuXHRcdGlmICh0aGlzLnVwZGF0ZSAhPT0gbnVsbClcblx0XHRcdGUodGhpcy51cGRhdGUpXG5cdFx0bygnKScpXG5cdFx0ZSh0aGlzLmJvZHkpXG5cdH0sXG5cdEZvckluU3RhdGVtZW50KCkgeyBmb3JJbk9mKHRoaXMsICcgaW4gJykgfSxcblx0Rm9yT2ZTdGF0ZW1lbnQoKSB7IGZvckluT2YodGhpcywgJyBvZiAnKSB9LFxuXHREZWJ1Z2dlclN0YXRlbWVudCgpIHtcblx0XHRvKCdkZWJ1Z2dlcicpXG5cdH0sXG5cblx0Ly8gRGVjbGFyYXRpb25zXG5cdEZ1bmN0aW9uRGVjbGFyYXRpb246IGZ1bixcblx0VmFyaWFibGVEZWNsYXJhdG9yKCkge1xuXHRcdGUodGhpcy5pZClcblx0XHRpZiAodGhpcy5pbml0ICE9PSBudWxsKSB7XG5cdFx0XHRvKCc9Jylcblx0XHRcdGUodGhpcy5pbml0KVxuXHRcdH1cblx0fSxcblx0VmFyaWFibGVEZWNsYXJhdGlvbigpIHtcblx0XHRvKHRoaXMua2luZClcblx0XHRvKCcgJylcblx0XHRpbnRlcmxlYXZlKHRoaXMuZGVjbGFyYXRpb25zLCAnLCcpXG5cdH0sXG5cblx0Ly8gRXhwcmVzc2lvbnNcblx0VGhpc0V4cHJlc3Npb24oKSB7XG5cdFx0bygndGhpcycpXG5cdH0sXG5cdEFycmF5RXhwcmVzc2lvbjogYXJyLFxuXHRPYmplY3RFeHByZXNzaW9uKCkge1xuXHRcdGlmIChpc0VtcHR5KHRoaXMucHJvcGVydGllcykpXG5cdFx0XHRvKCd7fScpXG5cdFx0ZWxzZVxuXHRcdFx0YmxvY2sodGhpcy5wcm9wZXJ0aWVzLCAnLCcpXG5cdH0sXG5cdFByb3BlcnR5KCkge1xuXHRcdGlmICh0aGlzLmtpbmQgPT09ICdpbml0Jykge1xuXHRcdFx0ZSh0aGlzLmtleSlcblx0XHRcdG8oJzonKVxuXHRcdFx0ZSh0aGlzLnZhbHVlKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRhc3NlcnQodGhpcy5raW5kID09PSAnZ2V0JyB8fCB0aGlzLmtpbmQgPT09ICdzZXQnKVxuXHRcdFx0byh0aGlzLmtpbmQpXG5cdFx0XHRvKCcgJylcblx0XHRcdGUodGhpcy5rZXkpXG5cdFx0XHRwYXJlbih0aGlzLnZhbHVlLnBhcmFtcylcblx0XHRcdGFzc2VydCh0aGlzLnZhbHVlIGluc3RhbmNlb2YgQXN0LkZ1bmN0aW9uRXhwcmVzc2lvbilcblx0XHRcdGFzc2VydCh0aGlzLnZhbHVlLmlkID09PSBudWxsICYmICF0aGlzLnZhbHVlLmdlbmVyYXRvcilcblx0XHRcdGUodGhpcy52YWx1ZS5ib2R5KVxuXHRcdH1cblx0fSxcblx0RnVuY3Rpb25FeHByZXNzaW9uOiBmdW4sXG5cdEFycm93RnVuY3Rpb25FeHByZXNzaW9uKCkge1xuXHRcdGlmICh0aGlzLnBhcmFtcy5sZW5ndGggPT09IDEgJiYgdGhpcy5wYXJhbXNbMF0gaW5zdGFuY2VvZiBBc3QuSWRlbnRpZmllcilcblx0XHRcdGUodGhpcy5wYXJhbXNbMF0pXG5cdFx0ZWxzZVxuXHRcdFx0cGFyZW4odGhpcy5wYXJhbXMpXG5cdFx0bygnPT4nKVxuXHRcdGUodGhpcy5ib2R5KVxuXHR9LFxuXHRTZXF1ZW5jZUV4cHJlc3Npb24oKSB7XG5cdFx0aW50ZXJsZWF2ZSh0aGlzLmV4cHJlc3Npb25zLCAnLCcpXG5cdH0sXG5cdFVuYXJ5RXhwcmVzc2lvbigpIHtcblx0XHRvKHRoaXMub3BlcmF0b3IpXG5cdFx0bygnICcpXG5cdFx0ZSh0aGlzLmFyZ3VtZW50KVxuXHR9LFxuXHRCaW5hcnlFeHByZXNzaW9uKCkge1xuXHRcdG8oJygnKVxuXHRcdGUodGhpcy5sZWZ0KVxuXHRcdG8odGhpcy5vcGVyYXRvciA9PT0gJ2luc3RhbmNlb2YnID8gJyBpbnN0YW5jZW9mICcgOiB0aGlzLm9wZXJhdG9yKVxuXHRcdGUodGhpcy5yaWdodClcblx0XHRvKCcpJylcblx0fSxcblx0QXNzaWdubWVudEV4cHJlc3Npb24oKSB7XG5cdFx0ZSh0aGlzLmxlZnQpXG5cdFx0byh0aGlzLm9wZXJhdG9yKVxuXHRcdGUodGhpcy5yaWdodClcblx0fSxcblx0VXBkYXRlRXhwcmVzc2lvbigpIHtcblx0XHRpZiAodGhpcy5wcmVmaXgpIHtcblx0XHRcdG8odGhpcy5vcGVyYXRvcilcblx0XHRcdGUodGhpcy5hcmd1bWVudClcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZSh0aGlzLmFyZ3VtZW50KVxuXHRcdFx0byh0aGlzLm9wZXJhdG9yKVxuXHRcdH1cblx0fSxcblx0TG9naWNhbEV4cHJlc3Npb24oKSB7XG5cdFx0bygnKCcpXG5cdFx0ZSh0aGlzLmxlZnQpXG5cdFx0byh0aGlzLm9wZXJhdG9yKVxuXHRcdGUodGhpcy5yaWdodClcblx0XHRvKCcpJylcblx0fSxcblx0Q29uZGl0aW9uYWxFeHByZXNzaW9uKCkge1xuXHRcdGUodGhpcy50ZXN0KVxuXHRcdG8oJz8nKVxuXHRcdGUodGhpcy5jb25zZXF1ZW50KVxuXHRcdG8oJzonKVxuXHRcdGUodGhpcy5hbHRlcm5hdGUpXG5cdH0sXG5cdE5ld0V4cHJlc3Npb24oKSB7XG5cdFx0bygnbmV3ICcpXG5cdFx0Y2FsbCh0aGlzKVxuXHR9LFxuXHRDYWxsRXhwcmVzc2lvbigpIHsgY2FsbCh0aGlzKSB9LFxuXHRNZW1iZXJFeHByZXNzaW9uKCkge1xuXHRcdGUodGhpcy5vYmplY3QpXG5cdFx0aWYgKHRoaXMuY29tcHV0ZWQpIHtcblx0XHRcdG8oJ1snKVxuXHRcdFx0ZSh0aGlzLnByb3BlcnR5KVxuXHRcdFx0bygnXScpXG5cdFx0fSBlbHNlIHtcblx0XHRcdG8oJy4nKVxuXHRcdFx0ZSh0aGlzLnByb3BlcnR5KVxuXHRcdH1cblx0fSxcblx0WWllbGRFeHByZXNzaW9uKCkge1xuXHRcdG8odGhpcy5kZWxlZ2F0ZSA/ICcoeWllbGQqICcgOiAnKHlpZWxkICcpXG5cdFx0ZSh0aGlzLmFyZ3VtZW50KVxuXHRcdG8oJyknKVxuXHR9LFxuXHRMaXRlcmFsKCkge1xuXHRcdGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdG8oJ1wiJylcblx0XHRcdG8oc3RyRXNjYXBlKHRoaXMudmFsdWUpKVxuXHRcdFx0bygnXCInKVxuXHRcdH1cblx0XHRlbHNlXG5cdFx0XHRvKHRoaXMudmFsdWUgPT09IG51bGwgPyAnbnVsbCcgOiB0aGlzLnZhbHVlLnRvU3RyaW5nKCkpXG5cdH0sXG5cblx0Ly8gVGVtcGxhdGVzXG5cdFRlbXBsYXRlRWxlbWVudCgpIHtcblx0XHRvKHRoaXMudmFsdWUucmF3KVxuXHR9LFxuXHRUZW1wbGF0ZUxpdGVyYWwoKSB7XG5cdFx0bygnYCcpXG5cdFx0YXNzZXJ0KHRoaXMucXVhc2lzLmxlbmd0aCA9PT0gdGhpcy5leHByZXNzaW9ucy5sZW5ndGggKyAxKVxuXHRcdGUodGhpcy5xdWFzaXNbMF0pXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV4cHJlc3Npb25zLmxlbmd0aDsgaSA9IGkgKyAxKVx0IHtcblx0XHRcdG8oJyR7Jylcblx0XHRcdGUodGhpcy5leHByZXNzaW9uc1tpXSlcblx0XHRcdG8oJ30nKVxuXHRcdFx0ZSh0aGlzLnF1YXNpc1tpICsgMV0pXG5cdFx0fVxuXHRcdG8oJ2AnKVxuXHR9LFxuXHRUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24oKSB7XG5cdFx0ZSh0aGlzLnRhZylcblx0XHRlKHRoaXMucXVhc2kpXG5cdH0sXG5cblx0Ly8gUGF0dGVybnNcblx0QXNzaWdubWVudFByb3BlcnR5KCkge1xuXHRcdGUodGhpcy5rZXkpXG5cdFx0aWYgKHRoaXMua2V5ICE9PSB0aGlzLnZhbHVlKSB7XG5cdFx0XHRvKCc6Jylcblx0XHRcdGUodGhpcy52YWx1ZSlcblx0XHR9XG5cdH0sXG5cdE9iamVjdFBhdHRlcm4oKSB7XG5cdFx0bygneycpXG5cdFx0aW50ZXJsZWF2ZSh0aGlzLnByb3BlcnRpZXMsICcsJylcblx0XHRvKCd9Jylcblx0fSxcblx0QXJyYXlQYXR0ZXJuOiBhcnIsXG5cdFJlc3RFbGVtZW50KCkge1xuXHRcdG8oJy4uLicpXG5cdFx0ZSh0aGlzLmFyZ3VtZW50KVxuXHR9LFxuXG5cdE1ldGhvZERlZmluaXRpb24oKSB7XG5cdFx0aWYgKHRoaXMuc3RhdGljKVxuXHRcdFx0bygnc3RhdGljICcpXG5cblx0XHRjb25zdCBmdW4gPSB0aGlzLnZhbHVlXG5cdFx0Ly8gVE9ET1xuXHRcdGFzc2VydCghZnVuLmdlbmVyYXRvcilcblx0XHRhc3NlcnQoZnVuLmlkID09PSBudWxsKVxuXHRcdGNvbnN0IHBhcmFtcyA9IGZ1bi5wYXJhbXNcblx0XHRjb25zdCBib2R5ID0gZnVuLmJvZHlcblxuXHRcdGNvbnN0IHJLZXkgPSAoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5jb21wdXRlZCkge1xuXHRcdFx0XHRvKCdbJylcblx0XHRcdFx0ZSh0aGlzLmtleSlcblx0XHRcdFx0bygnXScpXG5cdFx0XHR9IGVsc2Vcblx0XHRcdFx0ZSh0aGlzLmtleSlcblx0XHR9XG5cblx0XHRzd2l0Y2ggKHRoaXMua2luZCkge1xuXHRcdFx0Y2FzZSAnY29uc3RydWN0b3InOlxuXHRcdFx0XHRhc3NlcnQodGhpcy5rZXkgaW5zdGFuY2VvZiBBc3QuSWRlbnRpZmllciAmJiB0aGlzLmtleS5uYW1lID09PSAnY29uc3RydWN0b3InKVxuXHRcdFx0XHRvKCdjb25zdHJ1Y3RvcicpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRjYXNlICdtZXRob2QnOlxuXHRcdFx0XHRyS2V5KClcblx0XHRcdFx0YnJlYWtcblx0XHRcdGNhc2UgJ2dldCc6IGNhc2UgJ3NldCc6XG5cdFx0XHRcdG8odGhpcy5raW5kKVxuXHRcdFx0XHRvKCcgJylcblx0XHRcdFx0cktleSgpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IodGhpcy5raW5kKVxuXHRcdH1cblxuXHRcdHBhcmVuKHBhcmFtcylcblx0XHRlKGJvZHkpXG5cdH0sXG5cblx0Q2xhc3NCb2R5KCkge1xuXHRcdGJsb2NrKHRoaXMuYm9keSwgJycpXG5cdH0sXG5cblx0Q2xhc3NEZWNsYXJhdGlvbjogckNsYXNzLFxuXHRDbGFzc0V4cHJlc3Npb246IHJDbGFzcyxcblxuXHRJbXBvcnREZWNsYXJhdGlvbigpIHtcblx0XHRvKCdpbXBvcnQgJylcblxuXHRcdGxldCBkZWYsIG5hbWVzcGFjZVxuXHRcdGxldCBzcGVjaWZpZXJzID0gW11cblx0XHR0aGlzLnNwZWNpZmllcnMuZm9yRWFjaChzID0+IHtcblx0XHRcdGlmIChzIGluc3RhbmNlb2YgQXN0LkltcG9ydERlZmF1bHRTcGVjaWZpZXIpXG5cdFx0XHRcdGlmIChkZWYgPT09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRkZWYgPSBzXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlIGRlZmF1bHQgaW1wb3J0cycpXG5cdFx0XHRlbHNlIGlmIChzIGluc3RhbmNlb2YgQXN0LkltcG9ydE5hbWVzcGFjZVNwZWNpZmllcilcblx0XHRcdFx0aWYgKG5hbWVzcGFjZSA9PT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdG5hbWVzcGFjZSA9IHNcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignTXVsdGlwbGUgbmFtZXNwYWNlIGltcG9ydHMnKVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGFzc2VydChzIGluc3RhbmNlb2YgQXN0LkltcG9ydFNwZWNpZmllcilcblx0XHRcdFx0c3BlY2lmaWVycy5wdXNoKHMpXG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdGxldCBuZWVkQ29tbWEgPSBmYWxzZVxuXHRcdGlmIChkZWYgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZShkZWYpXG5cdFx0XHRuZWVkQ29tbWEgPSB0cnVlXG5cdFx0fVxuXHRcdGlmIChuYW1lc3BhY2UgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKG5lZWRDb21tYSlcblx0XHRcdFx0bygnLCcpXG5cdFx0XHRlKG5hbWVzcGFjZSlcblx0XHRcdG5lZWRDb21tYSA9IHRydWVcblx0XHR9XG5cdFx0aWYgKCFpc0VtcHR5KHNwZWNpZmllcnMpKSB7XG5cdFx0XHRpZiAobmVlZENvbW1hKVxuXHRcdFx0XHRvKCcsJylcblx0XHRcdG8oJ3snKVxuXHRcdFx0aW50ZXJsZWF2ZShzcGVjaWZpZXJzLCAnLCcpXG5cdFx0XHRvKCd9Jylcblx0XHR9XG5cblx0XHRvKCcgZnJvbSAnKVxuXHRcdGUodGhpcy5zb3VyY2UpXG5cdH0sXG5cdEltcG9ydFNwZWNpZmllcigpIHtcblx0XHRpZiAodGhpcy5pbXBvcnRlZCA9PT0gdGhpcy5sb2NhbClcblx0XHRcdGUodGhpcy5sb2NhbClcblx0XHRlbHNlIHtcblx0XHRcdGUodGhpcy5pbXBvcnRlZClcblx0XHRcdG8oJyBhcyAnKVxuXHRcdFx0ZSh0aGlzLmxvY2FsKVxuXHRcdH1cblx0fSxcblx0SW1wb3J0RGVmYXVsdFNwZWNpZmllcigpIHtcblx0XHRlKHRoaXMubG9jYWwpXG5cdH0sXG5cdEltcG9ydE5hbWVzcGFjZVNwZWNpZmllcigpIHtcblx0XHRvKCcqIGFzICcpXG5cdFx0ZSh0aGlzLmxvY2FsKVxuXHR9LFxuXG5cdEV4cG9ydFNwZWNpZmllcigpIHtcblx0XHRlKHRoaXMubG9jYWwpXG5cdFx0aWYgKHRoaXMuZXhwb3J0ZWQgIT09IHRoaXMubG9jYWwpIHtcblx0XHRcdG8oJyBhcyAnKVxuXHRcdFx0ZSh0aGlzLmV4cG9ydGVkKVxuXHRcdH1cblx0fSxcblx0RXhwb3J0TmFtZWREZWNsYXJhdGlvbigpIHtcblx0XHRvKCdleHBvcnQgJylcblx0XHRpZiAodGhpcy5kZWNsYXJhdGlvbiAhPT0gbnVsbCkge1xuXHRcdFx0YXNzZXJ0KGlzRW1wdHkodGhpcy5zcGVjaWZpZXJzKSlcblx0XHRcdGFzc2VydCh0aGlzLnNvdXJjZSA9PT0gbnVsbClcblx0XHRcdGUodGhpcy5kZWNsYXJhdGlvbilcblx0XHR9IGVsc2Uge1xuXHRcdFx0bygneycpXG5cdFx0XHRpbnRlcmxlYXZlKHRoaXMuc3BlY2lmaWVycywgJywnKVxuXHRcdFx0bygnfScpXG5cdFx0XHRpZiAodGhpcy5zb3VyY2UgIT09IG51bGwpIHtcblx0XHRcdFx0bygnIGZyb20gJylcblx0XHRcdFx0ZSh0aGlzLnNvdXJjZSlcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdEV4cG9ydERlZmF1bHREZWNsYXJhdGlvbigpIHtcblx0XHRvKCdleHBvcnQgZGVmYXVsdCAnKVxuXHRcdGUodGhpcy5kZWNsYXJhdGlvbilcblx0fSxcblx0RXhwb3J0QWxsRGVjbGFyYXRpb24oKSB7XG5cdFx0bygnZXhwb3J0ICogZnJvbSAnKVxuXHRcdGUodGhpcy5zb3VyY2UpXG5cdH1cbn0pXG4iXSwic291cmNlUm9vdCI6Ii9zcmMifQ==