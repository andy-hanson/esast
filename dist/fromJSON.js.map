{"version":3,"sources":["fromJSON.js"],"names":[],"mappings":";;;kBAEe,UAAA,IAAI,EAAI;AACtB,MAAI,OAAO,IAAI,KAAK,QAAQ,EAC3B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;AACxB,SAAO,cAAc,CAAC,IAAI,CAAC,CAAA;EAC3B;;AAED,KAAM,cAAc;;;;;;;;;;IAAG,UAAA,IAAI,EAAI;AAC9B,MAAM,IAAI,GAAG,KAAI,IAAI,CAAC,IAAI,CAAC,CAAA;AAC3B,MAAI,IAAI,KAAK,SAAS,EACrB,MAAM,IAAI,KAAK,wBAAsB,IAAI,CAAC,IAAI,aAAQ,IAAI,CAAG,CAAA;;AAE9D,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;AACzC,MAAI,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAc;OAAX,IAAI,QAAJ,IAAI;;;AAEzB,OAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAA;AAClB,OAAI,CAAC,KAAK,SAAS,EAClB,CAAC,GAAG,IAAI,CAAA,KACJ,IAAI,CAAC,YAAY,KAAK,EAC1B,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAA,KACrB,IAAI,OAAO,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,IAAI,EAC3C,CAAC,GAAG,cAAc,CAAC,CAAC,CAAC,CAAA;AACtB,MAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;GACb,CAAC,CAAA;AACF,SAAO,GAAG,CAAA;EACV,CAAA,CAAA","file":"fromJSON.js","sourcesContent":["import * as Ast from './ast'\n\nexport default json => {\n\tif (typeof json === 'string')\n\t\tjson = JSON.parse(json)\n\treturn fromJsonObject(json)\n}\n\nconst fromJsonObject = json => {\n\tconst type = Ast[json.type]\n\tif (type === undefined)\n\t\tthrow new Error(`Unsupported type: ${json.type} for ${json}`)\n\n\tconst obj = Object.create(type.prototype)\n\ttype.props.forEach(({ name }) => {\n\t\t// TODO: Type check\n\t\tlet _ = json[name]\n\t\tif (_ === undefined)\n\t\t\t_ = null\n\t\telse if (_ instanceof Array)\n\t\t\t_ = _.map(fromJsonObject)\n\t\telse if (typeof _ === 'object' && _ !== null)\n\t\t\t_ = fromJsonObject(_)\n\t\tobj[name] = _\n\t})\n\treturn obj\n}\n\n"],"sourceRoot":"/src"}